<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
        Document
    </title>
    <link rel='stylesheet' href=../../../css/index.css />
    <link rel='stylesheet' href=../../../css/c.css /><link rel='stylesheet' href=../../../css/shell.css />
    <link rel="icon" href="https://raw.githubusercontent.com/learner-lu/picbed/master/logo.png">
</head>

<body class="light">
    <a href="https://github.com/luzhixing12345/libc.git" target="_blank" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
    <div class="header-navigator"><ul><li><a href="#h1-0">命令行参数解析</a><ul><li><a href="#h2-1">快速开始</a></li></ul><ul><li><a href="#h2-2">用法说明</a><ul><li><a href="#h3-3">参数绑定</a></li></ul><ul><li><a href="#h3-4">参数信息</a></li></ul></li></ul><ul><li><a href="#h2-5">接收参数</a></li></ul><ul><li><a href="#h2-6">解析扩展选项</a><ul><li><a href="#h3-7">忽略警告</a></li></ul><ul><li><a href="#h3-8">参数与值粘连</a></li></ul><ul><li><a href="#h3-9">等号赋值</a></li></ul></li></ul><ul><li><a href="#h2-10">bool参数粘连</a></li></ul><ul><li><a href="#h2-11">用法实例</a><ul><li><a href="#h3-12">传入的参数与int不匹配</a></li></ul><ul><li><a href="#h3-13">缺少参数</a></li></ul></li></ul><ul><li><a href="#h2-14">参考</a></li></ul></li></ul></div><div class='markdown-body'><h1 id="h1-0">命令行参数解析</h1><p><a href="https://github.com/luzhixing12345/libc/blob/main/utils/xargparse.h" target="_blank">xargparse.h</a> 是命令行解析所需的头文件, 这是一个 Head-only 的文件, 意味着您可以在主函数入口文件引用后直接使用, 但由于函数的声明的定义都写在 .h 中所以不要多次引入并参与链接</p><pre class="language-shell"><code><span class="Program Token ID">wget</span><span class="Token SPACE"> </span><span class="Url Token ID">https://raw.githubusercontent.com/luzhixing12345/libc/main/src/xargparse.h</span></code></pre><h2 id="h2-1">快速开始</h2><p>下面是一个简单且全面的使用示例</p><pre class="language-c"><code><span class="Token HASH">#</span><span class="Keyword Preprocess ControlLine Token INCLUDE">include</span><span class="Keyword Preprocess ControlLine Token SPACE"> </span><span class="HeaderName String Token STRING">&quot;xargparse.h&quot;</span><span class="Token LF">
</span><span class="Token LF">
</span><span class="BaseType FunctionReturnType TypeSpecifier Token Keyword INT">int</span><span class="BaseType FunctionReturnType TypeSpecifier Token Keyword SPACE"> </span><span class="DirectDeclaractor Identifier FunctionName Token ID">main</span><span class="BraceDepth-0 DirectDeclaractor Token Declarator LPAREN">(</span><span class="Keyword BaseType Token TypeSpecifier INT">int</span><span class="Keyword BaseType Token TypeSpecifier SPACE"> </span><span class="DirectDeclaractor Identifier Token ID">argc</span><span class="Token COMMA">,</span><span class="Token SPACE"> </span><span class="Keyword Token QualifyType CONST">const</span><span class="Keyword Token QualifyType SPACE"> </span><span class="Keyword BaseType Token TypeSpecifier CHAR">char</span><span class="Keyword BaseType Token TypeSpecifier SPACE"> </span><span class="Pointer Token Declarator POINTER">*</span><span class="Pointer Token Declarator POINTER">*</span><span class="DirectDeclaractor Identifier Token ID">argv</span><span class="BraceDepth-0 DirectDeclaractor Token Declarator RPAREN">)</span><span class="DirectDeclaractor Token Declarator SPACE"> </span><span class="CompoundStatement Function Token BraceDepth-0 LCURLY_BRACE">{</span><span class="CompoundStatement Function Token LF">
</span><span class="CompoundStatement Function Token SPACE">    </span><span class="Keyword BaseType Token TypeSpecifier INT">int</span><span class="Keyword BaseType Token TypeSpecifier SPACE"> </span><span class="DirectDeclaractor Identifier Token ID">i</span><span class="Token Declaration SEMI">;</span><span class="Token Declaration LF">
</span><span class="Token Declaration SPACE">    </span><span class="Keyword BaseType Token TypeSpecifier CHAR">char</span><span class="Keyword BaseType Token TypeSpecifier SPACE"> </span><span class="Pointer Token Declarator POINTER">*</span><span class="DirectDeclaractor Identifier Token ID">s</span><span class="Token COMMA">,</span><span class="Token SPACE"> </span><span class="Pointer Token Declarator POINTER">*</span><span class="DirectDeclaractor Identifier Token ID">dest</span><span class="Token Declaration SEMI">;</span><span class="Token Declaration LF">
</span><span class="Token Declaration SPACE">    </span><span class="Keyword BaseType Token TypeSpecifier INT">int</span><span class="Keyword BaseType Token TypeSpecifier SPACE"> </span><span class="DirectDeclaractor Identifier Token ID">src</span><span class="Token Declaration SEMI">;</span><span class="Token Declaration LF">
</span><span class="Token Declaration SPACE">    </span><span class="Keyword BaseType Token TypeSpecifier INT">int</span><span class="Keyword BaseType Token TypeSpecifier SPACE"> </span><span class="Pointer Token Declarator POINTER">*</span><span class="DirectDeclaractor Identifier Token ID">other_numbers</span><span class="Token Declaration SEMI">;</span><span class="Token Declaration LF">
</span><span class="Token Declaration SPACE">    </span><span class="Keyword Typedefine Token TypeSpecifier TYPEDEF_ID">argparse_option</span><span class="Keyword Typedefine Token TypeSpecifier SPACE"> </span><span class="DirectDeclaractor Identifier Token ID">options</span><span class="DirectDeclaractorPostfix Token BraceDepth-1 LSQUAR_PAREN">[</span><span class="DirectDeclaractorPostfix Token BraceDepth-1 RSQUAR_PAREN">]</span><span class="DirectDeclaractorPostfix Token SPACE"> </span><span class="InitDeclarator Token ASSIGN">=</span><span class="InitDeclarator Token SPACE"> </span><span class="InitDeclarator Token BraceDepth-1 Initializer LCURLY_BRACE">{</span><span class="InitDeclarator Token Initializer LF">
</span><span class="InitDeclarator Token Initializer SPACE">        </span><span class="Identifier PrimaryExpression Token MacroDefine ID">XBOX_ARG_BOOLEAN</span><span class="Token BraceDepth-2 LPAREN">(</span><span class="Identifier Token MacroDefine ID">NULL</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="String Token STRING">&quot;-h&quot;</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="String Token STRING">&quot;--help&quot;</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="String Token STRING">&quot;show help information&quot;</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="Identifier Token MacroDefine ID">NULL</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="String Token STRING">&quot;help&quot;</span><span class="Token BraceDepth-2 RPAREN">)</span><span class="Token COMMA">,</span><span class="Token LF">
</span><span class="Token SPACE">        </span><span class="Identifier PrimaryExpression Token MacroDefine ID">XBOX_ARG_BOOLEAN</span><span class="Token BraceDepth-2 LPAREN">(</span><span class="Identifier Token MacroDefine ID">NULL</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="String Token STRING">&quot;-v&quot;</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="String Token STRING">&quot;--version&quot;</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="String Token STRING">&quot;show version&quot;</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="Identifier Token MacroDefine ID">NULL</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="String Token STRING">&quot;version&quot;</span><span class="Token BraceDepth-2 RPAREN">)</span><span class="Token COMMA">,</span><span class="Token LF">
</span><span class="Token SPACE">        </span><span class="Identifier PrimaryExpression Token MacroDefine ID">XBOX_ARG_INT</span><span class="Token BraceDepth-2 LPAREN">(</span><span class="PPtoken Token AMPERSAND">&amp;</span><span class="Identifier Token ID">i</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="String Token STRING">&quot;-i&quot;</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="String Token STRING">&quot;--input&quot;</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="String Token STRING">&quot;input file&quot;</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="Identifier Token MacroDefine ID">NULL</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="String Token STRING">&quot;input&quot;</span><span class="Token BraceDepth-2 RPAREN">)</span><span class="Token COMMA">,</span><span class="Token LF">
</span><span class="Token SPACE">        </span><span class="Identifier PrimaryExpression Token MacroDefine ID">XBOX_ARG_STR</span><span class="Token BraceDepth-2 LPAREN">(</span><span class="PPtoken Token AMPERSAND">&amp;</span><span class="Identifier Token ID">s</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="String Token STRING">&quot;-s&quot;</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="String Token STRING">&quot;--string&quot;</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="Identifier Token MacroDefine ID">NULL</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="Identifier Token MacroDefine ID">NULL</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="String Token STRING">&quot;string&quot;</span><span class="Token BraceDepth-2 RPAREN">)</span><span class="Token COMMA">,</span><span class="Token LF">
</span><span class="Token SPACE">        </span><span class="Identifier PrimaryExpression Token MacroDefine ID">XBOX_ARG_STR_GROUP</span><span class="Token BraceDepth-2 LPAREN">(</span><span class="PPtoken Token AMPERSAND">&amp;</span><span class="Identifier Token ID">dest</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="Identifier Token MacroDefine ID">NULL</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="Identifier Token MacroDefine ID">NULL</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="String Token STRING">&quot;destination&quot;</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="Identifier Token MacroDefine ID">NULL</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="String Token STRING">&quot;dest&quot;</span><span class="Token BraceDepth-2 RPAREN">)</span><span class="Token COMMA">,</span><span class="Token LF">
</span><span class="Token SPACE">        </span><span class="Identifier PrimaryExpression Token MacroDefine ID">XBOX_ARG_INT_GROUP</span><span class="Token BraceDepth-2 LPAREN">(</span><span class="PPtoken Token AMPERSAND">&amp;</span><span class="Identifier Token ID">src</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="Identifier Token MacroDefine ID">NULL</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="Identifier Token MacroDefine ID">NULL</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="String Token STRING">&quot;source&quot;</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="Identifier Token MacroDefine ID">NULL</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="String Token STRING">&quot;src&quot;</span><span class="Token BraceDepth-2 RPAREN">)</span><span class="Token COMMA">,</span><span class="Token LF">
</span><span class="Token SPACE">        </span><span class="Identifier PrimaryExpression Token MacroDefine ID">XBOX_ARG_INTS_GROUP</span><span class="Token BraceDepth-2 LPAREN">(</span><span class="PPtoken Token AMPERSAND">&amp;</span><span class="Identifier Token ID">other_numbers</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="Identifier Token MacroDefine ID">NULL</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="Identifier Token MacroDefine ID">NULL</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="String Token STRING">&quot;catch the other number ...&quot;</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="Identifier Token MacroDefine ID">NULL</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="String Token STRING">&quot;other-number&quot;</span><span class="Token BraceDepth-2 RPAREN">)</span><span class="Token COMMA">,</span><span class="Token LF">
</span><span class="Token SPACE">        </span><span class="Identifier PrimaryExpression Token MacroDefine ID">XBOX_ARG_END</span><span class="Token BraceDepth-2 LPAREN">(</span><span class="Token BraceDepth-2 RPAREN">)</span><span class="Token LF">
</span><span class="Token SPACE">    </span><span class="InitDeclarator Token BraceDepth-1 Initializer RCURLY_BRACE">}</span><span class="Token Declaration SEMI">;</span><span class="Token Declaration LF">
</span><span class="Token Declaration SPACE">    </span><span class="Keyword Typedefine Token TypeSpecifier TYPEDEF_ID">XBOX_argparse</span><span class="Keyword Typedefine Token TypeSpecifier SPACE"> </span><span class="DirectDeclaractor Identifier Token ID">parser</span><span class="Token Declaration SEMI">;</span><span class="Token Declaration LF">
</span><span class="Token Declaration SPACE">    </span><span class="Identifier Token FunctionCall PrimaryExpression ID">XBOX_argparse_init</span><span class="PostfixExpression Token BraceDepth-1 UnaryExpression LPAREN">(</span><span class="UnaryOp Token UnaryExpression AMPERSAND">&amp;</span><span class="Identifier Token PrimaryExpression ID">parser</span><span class="PostfixExpression Token UnaryExpression COMMA">,</span><span class="PostfixExpression Token UnaryExpression SPACE"> </span><span class="Identifier Token PrimaryExpression ID">options</span><span class="PostfixExpression Token UnaryExpression COMMA">,</span><span class="PostfixExpression Token UnaryExpression SPACE"> </span><span class="Constant Token PrimaryExpression NUMBER">0</span><span class="PostfixExpression Token BraceDepth-1 UnaryExpression RPAREN">)</span><span class="ExpressionStatement Token SEMI">;</span><span class="ExpressionStatement Token LF">
</span><span class="ExpressionStatement Token SPACE">    </span><span class="Identifier Token FunctionCall PrimaryExpression ID">XBOX_argparse_describe</span><span class="PostfixExpression Token BraceDepth-1 UnaryExpression LPAREN">(</span><span class="UnaryOp Token UnaryExpression AMPERSAND">&amp;</span><span class="Identifier Token PrimaryExpression ID">parser</span><span class="PostfixExpression Token UnaryExpression COMMA">,</span><span class="PostfixExpression Token UnaryExpression LF">
</span><span class="PostfixExpression Token UnaryExpression SPACE">                           </span><span class="String Token STRING">&quot;ls&quot;</span><span class="PostfixExpression Token UnaryExpression COMMA">,</span><span class="PostfixExpression Token UnaryExpression LF">
</span><span class="PostfixExpression Token UnaryExpression SPACE">                           </span><span class="String Token STRING">&quot;</span><span class="String Control Token STRING">\n</span><span class="String Token STRING">A brief description of what the program does and how it works.&quot;</span><span class="PostfixExpression Token UnaryExpression COMMA">,</span><span class="PostfixExpression Token UnaryExpression LF">
</span><span class="PostfixExpression Token UnaryExpression SPACE">                           </span><span class="String Token STRING">&quot;</span><span class="String Control Token STRING">\n</span><span class="String Token STRING">Additional description of the program after the description of the arguments.&quot;</span><span class="PostfixExpression Token BraceDepth-1 UnaryExpression RPAREN">)</span><span class="ExpressionStatement Token SEMI">;</span><span class="ExpressionStatement Token LF">
</span><span class="ExpressionStatement Token SPACE">    </span><span class="Identifier Token FunctionCall PrimaryExpression ID">XBOX_argparse_parse</span><span class="PostfixExpression Token BraceDepth-1 UnaryExpression LPAREN">(</span><span class="UnaryOp Token UnaryExpression AMPERSAND">&amp;</span><span class="Identifier Token PrimaryExpression ID">parser</span><span class="PostfixExpression Token UnaryExpression COMMA">,</span><span class="PostfixExpression Token UnaryExpression SPACE"> </span><span class="Identifier Token PrimaryExpression ID">argc</span><span class="PostfixExpression Token UnaryExpression COMMA">,</span><span class="PostfixExpression Token UnaryExpression SPACE"> </span><span class="Identifier Token PrimaryExpression ID">argv</span><span class="PostfixExpression Token BraceDepth-1 UnaryExpression RPAREN">)</span><span class="ExpressionStatement Token SEMI">;</span><span class="ExpressionStatement Token LF">
</span><span class="ExpressionStatement Token SPACE">    </span><span class="Keyword Token SelectionStatement IF">if</span><span class="Keyword Token SelectionStatement SPACE"> </span><span class="BraceDepth-1 Token SelectionStatement LPAREN">(</span><span class="Identifier Token FunctionCall PrimaryExpression ID">XBOX_ismatch</span><span class="PostfixExpression Token BraceDepth-2 UnaryExpression LPAREN">(</span><span class="UnaryOp Token UnaryExpression AMPERSAND">&amp;</span><span class="Identifier Token PrimaryExpression ID">parser</span><span class="PostfixExpression Token UnaryExpression COMMA">,</span><span class="PostfixExpression Token UnaryExpression SPACE"> </span><span class="String Token STRING">&quot;help&quot;</span><span class="PostfixExpression Token BraceDepth-2 UnaryExpression RPAREN">)</span><span class="BraceDepth-1 Token SelectionStatement RPAREN">)</span><span class="Token SelectionStatement SPACE"> </span><span class="CompoundStatement BraceDepth-1 Token SelectionStatement LCURLY_BRACE">{</span><span class="CompoundStatement Token SelectionStatement LF">
</span><span class="CompoundStatement Token SelectionStatement SPACE">        </span><span class="Identifier Token FunctionCall PrimaryExpression ID">XBOX_argparse_info</span><span class="PostfixExpression Token BraceDepth-2 UnaryExpression LPAREN">(</span><span class="UnaryOp Token UnaryExpression AMPERSAND">&amp;</span><span class="Identifier Token PrimaryExpression ID">parser</span><span class="PostfixExpression Token BraceDepth-2 UnaryExpression RPAREN">)</span><span class="ExpressionStatement Token SEMI">;</span><span class="ExpressionStatement Token LF">
</span><span class="ExpressionStatement Token SPACE">    </span><span class="CompoundStatement BraceDepth-1 Token SelectionStatement RCURLY_BRACE">}</span><span class="CompoundStatement Token SelectionStatement LF">
</span><span class="CompoundStatement Token SelectionStatement SPACE">    </span><span class="Keyword Token SelectionStatement IF">if</span><span class="Keyword Token SelectionStatement SPACE"> </span><span class="BraceDepth-1 Token SelectionStatement LPAREN">(</span><span class="Identifier Token FunctionCall PrimaryExpression ID">XBOX_ismatch</span><span class="PostfixExpression Token BraceDepth-2 UnaryExpression LPAREN">(</span><span class="UnaryOp Token UnaryExpression AMPERSAND">&amp;</span><span class="Identifier Token PrimaryExpression ID">parser</span><span class="PostfixExpression Token UnaryExpression COMMA">,</span><span class="PostfixExpression Token UnaryExpression SPACE"> </span><span class="String Token STRING">&quot;version&quot;</span><span class="PostfixExpression Token BraceDepth-2 UnaryExpression RPAREN">)</span><span class="BraceDepth-1 Token SelectionStatement RPAREN">)</span><span class="Token SelectionStatement SPACE"> </span><span class="CompoundStatement BraceDepth-1 Token SelectionStatement LCURLY_BRACE">{</span><span class="CompoundStatement Token SelectionStatement LF">
</span><span class="CompoundStatement Token SelectionStatement SPACE">        </span><span class="Identifier Token FunctionCall PrimaryExpression ID">printf</span><span class="PostfixExpression Token BraceDepth-2 UnaryExpression LPAREN">(</span><span class="String Token STRING">&quot;v0.0.1</span><span class="String Control Token STRING">\n</span><span class="String Token STRING">&quot;</span><span class="PostfixExpression Token BraceDepth-2 UnaryExpression RPAREN">)</span><span class="ExpressionStatement Token SEMI">;</span><span class="ExpressionStatement Token LF">
</span><span class="ExpressionStatement Token SPACE">    </span><span class="CompoundStatement BraceDepth-1 Token SelectionStatement RCURLY_BRACE">}</span><span class="CompoundStatement Token SelectionStatement LF">
</span><span class="CompoundStatement Token SelectionStatement SPACE">    </span><span class="Keyword Token SelectionStatement IF">if</span><span class="Keyword Token SelectionStatement SPACE"> </span><span class="BraceDepth-1 Token SelectionStatement LPAREN">(</span><span class="Identifier Token FunctionCall PrimaryExpression ID">XBOX_ismatch</span><span class="PostfixExpression Token BraceDepth-2 UnaryExpression LPAREN">(</span><span class="UnaryOp Token UnaryExpression AMPERSAND">&amp;</span><span class="Identifier Token PrimaryExpression ID">parser</span><span class="PostfixExpression Token UnaryExpression COMMA">,</span><span class="PostfixExpression Token UnaryExpression SPACE"> </span><span class="String Token STRING">&quot;input&quot;</span><span class="PostfixExpression Token BraceDepth-2 UnaryExpression RPAREN">)</span><span class="BraceDepth-1 Token SelectionStatement RPAREN">)</span><span class="Token SelectionStatement SPACE"> </span><span class="CompoundStatement BraceDepth-1 Token SelectionStatement LCURLY_BRACE">{</span><span class="CompoundStatement Token SelectionStatement LF">
</span><span class="CompoundStatement Token SelectionStatement SPACE">        </span><span class="Identifier Token FunctionCall PrimaryExpression ID">printf</span><span class="PostfixExpression Token BraceDepth-2 UnaryExpression LPAREN">(</span><span class="String Token STRING">&quot;i = </span><span class="Format String Token STRING">%d</span><span class="String Control Token STRING">\n</span><span class="String Token STRING">&quot;</span><span class="PostfixExpression Token UnaryExpression COMMA">,</span><span class="PostfixExpression Token UnaryExpression SPACE"> </span><span class="Identifier Token PrimaryExpression ID">i</span><span class="PostfixExpression Token BraceDepth-2 UnaryExpression RPAREN">)</span><span class="ExpressionStatement Token SEMI">;</span><span class="ExpressionStatement Token LF">
</span><span class="ExpressionStatement Token SPACE">    </span><span class="CompoundStatement BraceDepth-1 Token SelectionStatement RCURLY_BRACE">}</span><span class="CompoundStatement Token SelectionStatement LF">
</span><span class="CompoundStatement Token SelectionStatement SPACE">    </span><span class="Keyword Token SelectionStatement IF">if</span><span class="Keyword Token SelectionStatement SPACE"> </span><span class="BraceDepth-1 Token SelectionStatement LPAREN">(</span><span class="Identifier Token FunctionCall PrimaryExpression ID">XBOX_ismatch</span><span class="PostfixExpression Token BraceDepth-2 UnaryExpression LPAREN">(</span><span class="UnaryOp Token UnaryExpression AMPERSAND">&amp;</span><span class="Identifier Token PrimaryExpression ID">parser</span><span class="PostfixExpression Token UnaryExpression COMMA">,</span><span class="PostfixExpression Token UnaryExpression SPACE"> </span><span class="String Token STRING">&quot;string&quot;</span><span class="PostfixExpression Token BraceDepth-2 UnaryExpression RPAREN">)</span><span class="BraceDepth-1 Token SelectionStatement RPAREN">)</span><span class="Token SelectionStatement SPACE"> </span><span class="CompoundStatement BraceDepth-1 Token SelectionStatement LCURLY_BRACE">{</span><span class="CompoundStatement Token SelectionStatement LF">
</span><span class="CompoundStatement Token SelectionStatement SPACE">        </span><span class="Identifier Token FunctionCall PrimaryExpression ID">printf</span><span class="PostfixExpression Token BraceDepth-2 UnaryExpression LPAREN">(</span><span class="String Token STRING">&quot;s = </span><span class="Format String Token STRING">%s</span><span class="String Control Token STRING">\n</span><span class="String Token STRING">&quot;</span><span class="PostfixExpression Token UnaryExpression COMMA">,</span><span class="PostfixExpression Token UnaryExpression SPACE"> </span><span class="Identifier Token PrimaryExpression ID">s</span><span class="PostfixExpression Token BraceDepth-2 UnaryExpression RPAREN">)</span><span class="ExpressionStatement Token SEMI">;</span><span class="ExpressionStatement Token LF">
</span><span class="ExpressionStatement Token SPACE">    </span><span class="CompoundStatement BraceDepth-1 Token SelectionStatement RCURLY_BRACE">}</span><span class="CompoundStatement Token SelectionStatement LF">
</span><span class="CompoundStatement Token SelectionStatement SPACE">    </span><span class="Keyword Token SelectionStatement IF">if</span><span class="Keyword Token SelectionStatement SPACE"> </span><span class="BraceDepth-1 Token SelectionStatement LPAREN">(</span><span class="Identifier Token FunctionCall PrimaryExpression ID">XBOX_ismatch</span><span class="PostfixExpression Token BraceDepth-2 UnaryExpression LPAREN">(</span><span class="UnaryOp Token UnaryExpression AMPERSAND">&amp;</span><span class="Identifier Token PrimaryExpression ID">parser</span><span class="PostfixExpression Token UnaryExpression COMMA">,</span><span class="PostfixExpression Token UnaryExpression SPACE"> </span><span class="String Token STRING">&quot;dest&quot;</span><span class="PostfixExpression Token BraceDepth-2 UnaryExpression RPAREN">)</span><span class="BraceDepth-1 Token SelectionStatement RPAREN">)</span><span class="Token SelectionStatement SPACE"> </span><span class="CompoundStatement BraceDepth-1 Token SelectionStatement LCURLY_BRACE">{</span><span class="CompoundStatement Token SelectionStatement LF">
</span><span class="CompoundStatement Token SelectionStatement SPACE">        </span><span class="Identifier Token FunctionCall PrimaryExpression ID">printf</span><span class="PostfixExpression Token BraceDepth-2 UnaryExpression LPAREN">(</span><span class="String Token STRING">&quot;dest = </span><span class="Format String Token STRING">%s</span><span class="String Control Token STRING">\n</span><span class="String Token STRING">&quot;</span><span class="PostfixExpression Token UnaryExpression COMMA">,</span><span class="PostfixExpression Token UnaryExpression SPACE"> </span><span class="Identifier Token PrimaryExpression ID">dest</span><span class="PostfixExpression Token BraceDepth-2 UnaryExpression RPAREN">)</span><span class="ExpressionStatement Token SEMI">;</span><span class="ExpressionStatement Token LF">
</span><span class="ExpressionStatement Token SPACE">    </span><span class="CompoundStatement BraceDepth-1 Token SelectionStatement RCURLY_BRACE">}</span><span class="CompoundStatement Token SelectionStatement LF">
</span><span class="CompoundStatement Token SelectionStatement SPACE">    </span><span class="Keyword Token SelectionStatement IF">if</span><span class="Keyword Token SelectionStatement SPACE"> </span><span class="BraceDepth-1 Token SelectionStatement LPAREN">(</span><span class="Identifier Token FunctionCall PrimaryExpression ID">XBOX_ismatch</span><span class="PostfixExpression Token BraceDepth-2 UnaryExpression LPAREN">(</span><span class="UnaryOp Token UnaryExpression AMPERSAND">&amp;</span><span class="Identifier Token PrimaryExpression ID">parser</span><span class="PostfixExpression Token UnaryExpression COMMA">,</span><span class="PostfixExpression Token UnaryExpression SPACE"> </span><span class="String Token STRING">&quot;src&quot;</span><span class="PostfixExpression Token BraceDepth-2 UnaryExpression RPAREN">)</span><span class="BraceDepth-1 Token SelectionStatement RPAREN">)</span><span class="Token SelectionStatement SPACE"> </span><span class="CompoundStatement BraceDepth-1 Token SelectionStatement LCURLY_BRACE">{</span><span class="CompoundStatement Token SelectionStatement LF">
</span><span class="CompoundStatement Token SelectionStatement SPACE">        </span><span class="Identifier Token FunctionCall PrimaryExpression ID">printf</span><span class="PostfixExpression Token BraceDepth-2 UnaryExpression LPAREN">(</span><span class="String Token STRING">&quot;src = </span><span class="Format String Token STRING">%d</span><span class="String Control Token STRING">\n</span><span class="String Token STRING">&quot;</span><span class="PostfixExpression Token UnaryExpression COMMA">,</span><span class="PostfixExpression Token UnaryExpression SPACE"> </span><span class="Identifier Token PrimaryExpression ID">src</span><span class="PostfixExpression Token BraceDepth-2 UnaryExpression RPAREN">)</span><span class="ExpressionStatement Token SEMI">;</span><span class="ExpressionStatement Token LF">
</span><span class="ExpressionStatement Token SPACE">    </span><span class="CompoundStatement BraceDepth-1 Token SelectionStatement RCURLY_BRACE">}</span><span class="CompoundStatement Token SelectionStatement LF">
</span><span class="CompoundStatement Token SelectionStatement SPACE">    </span><span class="Keyword BaseType Token TypeSpecifier INT">int</span><span class="Keyword BaseType Token TypeSpecifier SPACE"> </span><span class="DirectDeclaractor Identifier Token ID">n</span><span class="DirectDeclaractor Identifier Token SPACE"> </span><span class="InitDeclarator Token ASSIGN">=</span><span class="InitDeclarator Token SPACE"> </span><span class="Identifier Token FunctionCall PrimaryExpression ID">XBOX_ismatch</span><span class="PostfixExpression Token BraceDepth-1 UnaryExpression LPAREN">(</span><span class="UnaryOp Token UnaryExpression AMPERSAND">&amp;</span><span class="Identifier Token PrimaryExpression ID">parser</span><span class="PostfixExpression Token UnaryExpression COMMA">,</span><span class="PostfixExpression Token UnaryExpression SPACE"> </span><span class="String Token STRING">&quot;other-number&quot;</span><span class="PostfixExpression Token BraceDepth-1 UnaryExpression RPAREN">)</span><span class="Token Declaration SEMI">;</span><span class="Token Declaration LF">
</span><span class="Token Declaration SPACE">    </span><span class="Keyword Token IterationStatement FOR">for</span><span class="Keyword Token IterationStatement SPACE"> </span><span class="BraceDepth-1 Token IterationStatement LPAREN">(</span><span class="Keyword BaseType Token TypeSpecifier INT">int</span><span class="Keyword BaseType Token TypeSpecifier SPACE"> </span><span class="DirectDeclaractor Identifier Token ID">i</span><span class="DirectDeclaractor Identifier Token SPACE"> </span><span class="InitDeclarator Token ASSIGN">=</span><span class="InitDeclarator Token SPACE"> </span><span class="Constant Token PrimaryExpression NUMBER">0</span><span class="Token IterationStatement Declaration SEMI">;</span><span class="Token IterationStatement Declaration SPACE"> </span><span class="Identifier Token PrimaryExpression ID">i</span><span class="Identifier Token PrimaryExpression SPACE"> </span><span class="BinaryOp ConditionalExpression Token LT">&lt;</span><span class="BinaryOp ConditionalExpression Token SPACE"> </span><span class="Identifier Token PrimaryExpression ID">n</span><span class="Token IterationStatement SEMI">;</span><span class="Token IterationStatement SPACE"> </span><span class="Identifier Token PrimaryExpression ID">i</span><span class="PostfixExpression Token UnaryExpression INC">++</span><span class="BraceDepth-1 Token IterationStatement RPAREN">)</span><span class="Token IterationStatement SPACE"> </span><span class="CompoundStatement BraceDepth-1 Token IterationStatement LCURLY_BRACE">{</span><span class="CompoundStatement Token IterationStatement LF">
</span><span class="CompoundStatement Token IterationStatement SPACE">        </span><span class="Identifier Token FunctionCall PrimaryExpression ID">printf</span><span class="PostfixExpression Token BraceDepth-2 UnaryExpression LPAREN">(</span><span class="String Token STRING">&quot;other number[</span><span class="Format String Token STRING">%d</span><span class="String Token STRING">] = </span><span class="Format String Token STRING">%d</span><span class="String Control Token STRING">\n</span><span class="String Token STRING">&quot;</span><span class="PostfixExpression Token UnaryExpression COMMA">,</span><span class="PostfixExpression Token UnaryExpression SPACE"> </span><span class="Identifier Token PrimaryExpression ID">i</span><span class="PostfixExpression Token UnaryExpression COMMA">,</span><span class="PostfixExpression Token UnaryExpression SPACE"> </span><span class="Identifier Token PrimaryExpression ID">other_numbers</span><span class="BraceDepth-0 PostfixExpression Token UnaryExpression LSQUAR_PAREN">[</span><span class="Identifier Token PrimaryExpression ID">i</span><span class="BraceDepth-0 PostfixExpression Token UnaryExpression RSQUAR_PAREN">]</span><span class="PostfixExpression Token BraceDepth-2 UnaryExpression RPAREN">)</span><span class="ExpressionStatement Token SEMI">;</span><span class="ExpressionStatement Token LF">
</span><span class="ExpressionStatement Token SPACE">    </span><span class="CompoundStatement BraceDepth-1 Token IterationStatement RCURLY_BRACE">}</span><span class="CompoundStatement Token IterationStatement LF">
</span><span class="CompoundStatement Token IterationStatement SPACE">    </span><span class="Identifier Token FunctionCall PrimaryExpression ID">XBOX_free_argparse</span><span class="PostfixExpression Token BraceDepth-1 UnaryExpression LPAREN">(</span><span class="UnaryOp Token UnaryExpression AMPERSAND">&amp;</span><span class="Identifier Token PrimaryExpression ID">parser</span><span class="PostfixExpression Token BraceDepth-1 UnaryExpression RPAREN">)</span><span class="ExpressionStatement Token SEMI">;</span><span class="ExpressionStatement Token LF">
</span><span class="ExpressionStatement Token SPACE">    </span><span class="Keyword JumpStatement Token RETURN">return</span><span class="Keyword JumpStatement Token SPACE"> </span><span class="Constant Token PrimaryExpression NUMBER">0</span><span class="JumpStatement Token SEMI">;</span><span class="JumpStatement Token LF">
</span><span class="CompoundStatement Function Token BraceDepth-0 RCURLY_BRACE">}</span></code></pre><p>您可直接拷贝此代码并编译运行, 也可以在本仓库下执行 make 以得到 ./examples/main</p><pre class="language-shell"><code><span class="BraceDepth-0 Token LPAREN">(</span><span class="Program Token ID">base</span><span class="BraceDepth-0 Token RPAREN">)</span><span class="Token SPACE"> </span><span class="Token HOST_NAME">kamilu@LZX</span><span class="Token COLON">:</span><span class="Token DIR_PATH">~/libc</span><span class="Token TAG">$</span><span class="Token SPACE"> </span><span class="Program Token PATH">./examples/main</span><span class="Token SPACE"> </span><span class="Token OPTION">--help</span><span class="Token LF">
</span><span class="Program Token ID">Usage:</span><span class="Token SPACE"> </span><span class="Token ID">ls</span><span class="Token SPACE"> </span><span class="BraceDepth-0 Token LSQUAR_PAREN">[</span><span class="Token ID">OPTION</span><span class="BraceDepth-0 Token RSQUAR_PAREN">]</span><span class="Token ID">...</span><span class="Token SPACE"> </span><span class="BraceDepth-0 Token LSQUAR_PAREN">[</span><span class="Token ID">dest</span><span class="BraceDepth-0 Token RSQUAR_PAREN">]</span><span class="Token SPACE"> </span><span class="BraceDepth-0 Token LSQUAR_PAREN">[</span><span class="Token ID">src</span><span class="BraceDepth-0 Token RSQUAR_PAREN">]</span><span class="Token SPACE"> </span><span class="BraceDepth-0 Token LSQUAR_PAREN">[</span><span class="Token ID">other-number</span><span class="BraceDepth-0 Token RSQUAR_PAREN">]</span><span class="Token ID">...</span><span class="Token LF">
</span><span class="Token LF">
</span><span class="Program Token ID">A</span><span class="Token SPACE"> </span><span class="Token ID">brief</span><span class="Token SPACE"> </span><span class="Token ID">description</span><span class="Token SPACE"> </span><span class="Token ID">of</span><span class="Token SPACE"> </span><span class="Token ID">what</span><span class="Token SPACE"> </span><span class="Token ID">the</span><span class="Token SPACE"> </span><span class="Token ID">program</span><span class="Token SPACE"> </span><span class="Token ID">does</span><span class="Token SPACE"> </span><span class="Token ID">and</span><span class="Token SPACE"> </span><span class="Token ID">how</span><span class="Token SPACE"> </span><span class="Token ID">it</span><span class="Token SPACE"> </span><span class="Token ID">works.</span><span class="Token LF">
</span><span class="Token LF">
</span><span class="Token SPACE">  </span><span class="Token OPTION">-h</span><span class="Token SPACE">   </span><span class="Token OPTION">--help</span><span class="Token SPACE">      </span><span class="Program Token ID">show</span><span class="Token SPACE"> </span><span class="Token ID">help</span><span class="Token SPACE"> </span><span class="Token ID">information</span><span class="Token LF">
</span><span class="Token SPACE">  </span><span class="Token OPTION">-v</span><span class="Token SPACE">   </span><span class="Token OPTION">--version</span><span class="Token SPACE">   </span><span class="Program Token ID">show</span><span class="Token SPACE"> </span><span class="Token ID">version</span><span class="Token LF">
</span><span class="Token SPACE">  </span><span class="Token OPTION">-i</span><span class="Token SPACE">   </span><span class="Token OPTION">--input</span><span class="Token SPACE">     </span><span class="Program Token ID">input</span><span class="Token SPACE"> </span><span class="Token ID">file</span><span class="Token LF">
</span><span class="Token SPACE">  </span><span class="Token OPTION">-s</span><span class="Token SPACE">   </span><span class="Token OPTION">--string</span><span class="Token LF">
</span><span class="Program Token ID">Additional</span><span class="Token SPACE"> </span><span class="Token ID">description</span><span class="Token SPACE"> </span><span class="Token ID">of</span><span class="Token SPACE"> </span><span class="Token ID">the</span><span class="Token SPACE"> </span><span class="Token ID">program</span><span class="Token SPACE"> </span><span class="Token ID">after</span><span class="Token SPACE"> </span><span class="Token ID">the</span><span class="Token SPACE"> </span><span class="Token ID">description</span><span class="Token SPACE"> </span><span class="Token ID">of</span><span class="Token SPACE"> </span><span class="Token ID">the</span><span class="Token SPACE"> </span><span class="Token ID">arguments.</span></code></pre><pre class="language-shell"><code><span class="BraceDepth-0 Token LPAREN">(</span><span class="Program Token ID">base</span><span class="BraceDepth-0 Token RPAREN">)</span><span class="Token SPACE"> </span><span class="Token HOST_NAME">kamilu@LZX</span><span class="Token COLON">:</span><span class="Token DIR_PATH">~/libc</span><span class="Token TAG">$</span><span class="Token SPACE"> </span><span class="Program Token PATH">./examples/main</span><span class="Token SPACE"> </span><span class="Token OPTION">-v</span><span class="Token LF">
</span><span class="Program Token ID">v0.0.1</span><span class="Token LF">
</span><span class="BraceDepth-0 Token LPAREN">(</span><span class="Program Token ID">base</span><span class="BraceDepth-0 Token RPAREN">)</span><span class="Token SPACE"> </span><span class="Token HOST_NAME">kamilu@LZX</span><span class="Token COLON">:</span><span class="Token DIR_PATH">~/libc</span><span class="Token TAG">$</span><span class="Token SPACE"> </span><span class="Program Token PATH">./examples/main</span><span class="Token SPACE"> </span><span class="Token OPTION">-i</span><span class="Token LF">
</span><span class="BraceDepth-0 Token LSQUAR_PAREN">[</span><span class="Program Token ID">Args</span><span class="Token SPACE"> </span><span class="Token ID">Parse</span><span class="Token SPACE"> </span><span class="Token ID">Error</span><span class="BraceDepth-0 Token RSQUAR_PAREN">]</span><span class="Token COLON">:</span><span class="Token SPACE"> </span><span class="Token ID">option</span><span class="Token SPACE"> </span><span class="BraceDepth-0 Token LSQUAR_PAREN">[</span><span class="Token OPTION">--input</span><span class="BraceDepth-0 Token RSQUAR_PAREN">]</span><span class="Token SPACE"> </span><span class="Token ID">needs</span><span class="Token SPACE"> </span><span class="Token ID">one</span><span class="Token SPACE"> </span><span class="Token ID">argument</span><span class="Token LF">
</span><span class="BraceDepth-0 Token LPAREN">(</span><span class="Program Token ID">base</span><span class="BraceDepth-0 Token RPAREN">)</span><span class="Token SPACE"> </span><span class="Token HOST_NAME">kamilu@LZX</span><span class="Token COLON">:</span><span class="Token DIR_PATH">~/libc</span><span class="Token TAG">$</span><span class="Token SPACE"> </span><span class="Program Token PATH">./examples/main</span><span class="Token SPACE"> </span><span class="Token OPTION">-i</span><span class="Token SPACE"> </span><span class="Token NUMBER">100</span><span class="Token LF">
</span><span class="Variant Program Token ID">i</span><span class="Token SPACE"> </span><span class="Token ASSIGN">=</span><span class="Token SPACE"> </span><span class="Token NUMBER">100</span><span class="Token LF">
</span><span class="BraceDepth-0 Token LPAREN">(</span><span class="Program Token ID">base</span><span class="BraceDepth-0 Token RPAREN">)</span><span class="Token SPACE"> </span><span class="Token HOST_NAME">kamilu@LZX</span><span class="Token COLON">:</span><span class="Token DIR_PATH">~/libc</span><span class="Token TAG">$</span><span class="Token SPACE"> </span><span class="Program Token PATH">./examples/main</span><span class="Token SPACE"> </span><span class="Token OPTION">-i</span><span class="Token SPACE"> </span><span class="Token NUMBER">100</span><span class="Token SPACE"> </span><span class="Token OPTION">-s</span><span class="Token SPACE"> </span><span class="Token NUMBER">200</span><span class="Token LF">
</span><span class="Variant Program Token ID">i</span><span class="Token SPACE"> </span><span class="Token ASSIGN">=</span><span class="Token SPACE"> </span><span class="Token NUMBER">100</span><span class="Token LF">
</span><span class="Variant Program Token ID">s</span><span class="Token SPACE"> </span><span class="Token ASSIGN">=</span><span class="Token SPACE"> </span><span class="Token NUMBER">200</span><span class="Token LF">
</span><span class="BraceDepth-0 Token LPAREN">(</span><span class="Program Token ID">base</span><span class="BraceDepth-0 Token RPAREN">)</span><span class="Token SPACE"> </span><span class="Token HOST_NAME">kamilu@LZX</span><span class="Token COLON">:</span><span class="Token DIR_PATH">~/libc</span><span class="Token TAG">$</span><span class="Token SPACE"> </span><span class="Program Token PATH">./examples/main</span><span class="Token SPACE"> </span><span class="Token OPTION">-i</span><span class="Token SPACE"> </span><span class="Token NUMBER">100</span><span class="Token SPACE"> </span><span class="Token OPTION">-s</span><span class="Token SPACE"> </span><span class="Token NUMBER">200</span><span class="Token SPACE"> </span><span class="Token NUMBER">300</span><span class="Token LF">
</span><span class="Variant Program Token ID">i</span><span class="Token SPACE"> </span><span class="Token ASSIGN">=</span><span class="Token SPACE"> </span><span class="Token NUMBER">100</span><span class="Token LF">
</span><span class="Variant Program Token ID">s</span><span class="Token SPACE"> </span><span class="Token ASSIGN">=</span><span class="Token SPACE"> </span><span class="Token NUMBER">200</span><span class="Token LF">
</span><span class="Variant Program Token ID">dest</span><span class="Token SPACE"> </span><span class="Token ASSIGN">=</span><span class="Token SPACE"> </span><span class="Token NUMBER">300</span><span class="Token LF">
</span><span class="BraceDepth-0 Token LPAREN">(</span><span class="Program Token ID">base</span><span class="BraceDepth-0 Token RPAREN">)</span><span class="Token SPACE"> </span><span class="Token HOST_NAME">kamilu@LZX</span><span class="Token COLON">:</span><span class="Token DIR_PATH">~/libc</span><span class="Token TAG">$</span><span class="Token SPACE"> </span><span class="Program Token PATH">./examples/main</span><span class="Token SPACE"> </span><span class="Token OPTION">-i</span><span class="Token SPACE"> </span><span class="Token NUMBER">100</span><span class="Token SPACE"> </span><span class="Token OPTION">-s</span><span class="Token SPACE"> </span><span class="Token NUMBER">200</span><span class="Token SPACE"> </span><span class="Token NUMBER">300</span><span class="Token SPACE"> </span><span class="Token NUMBER">400</span><span class="Token LF">
</span><span class="Variant Program Token ID">i</span><span class="Token SPACE"> </span><span class="Token ASSIGN">=</span><span class="Token SPACE"> </span><span class="Token NUMBER">100</span><span class="Token LF">
</span><span class="Variant Program Token ID">s</span><span class="Token SPACE"> </span><span class="Token ASSIGN">=</span><span class="Token SPACE"> </span><span class="Token NUMBER">200</span><span class="Token LF">
</span><span class="Variant Program Token ID">dest</span><span class="Token SPACE"> </span><span class="Token ASSIGN">=</span><span class="Token SPACE"> </span><span class="Token NUMBER">300</span><span class="Token LF">
</span><span class="Variant Program Token ID">src</span><span class="Token SPACE"> </span><span class="Token ASSIGN">=</span><span class="Token SPACE"> </span><span class="Token NUMBER">400</span><span class="Token LF">
</span><span class="BraceDepth-0 Token LPAREN">(</span><span class="Program Token ID">base</span><span class="BraceDepth-0 Token RPAREN">)</span><span class="Token SPACE"> </span><span class="Token HOST_NAME">kamilu@LZX</span><span class="Token COLON">:</span><span class="Token DIR_PATH">~/libc</span><span class="Token TAG">$</span><span class="Token SPACE"> </span><span class="Program Token PATH">./examples/main</span><span class="Token SPACE"> </span><span class="Token OPTION">-i</span><span class="Token SPACE"> </span><span class="Token NUMBER">100</span><span class="Token SPACE"> </span><span class="Token OPTION">-s</span><span class="Token SPACE"> </span><span class="Token NUMBER">200</span><span class="Token SPACE"> </span><span class="Token NUMBER">300</span><span class="Token SPACE"> </span><span class="String Token STRING">&quot;400&quot;</span><span class="Token LF">
</span><span class="Variant Program Token ID">i</span><span class="Token SPACE"> </span><span class="Token ASSIGN">=</span><span class="Token SPACE"> </span><span class="Token NUMBER">100</span><span class="Token LF">
</span><span class="Variant Program Token ID">s</span><span class="Token SPACE"> </span><span class="Token ASSIGN">=</span><span class="Token SPACE"> </span><span class="Token NUMBER">200</span><span class="Token LF">
</span><span class="Variant Program Token ID">dest</span><span class="Token SPACE"> </span><span class="Token ASSIGN">=</span><span class="Token SPACE"> </span><span class="Token NUMBER">300</span><span class="Token LF">
</span><span class="Variant Program Token ID">src</span><span class="Token SPACE"> </span><span class="Token ASSIGN">=</span><span class="Token SPACE"> </span><span class="Token NUMBER">400</span><span class="Token LF">
</span><span class="BraceDepth-0 Token LPAREN">(</span><span class="Program Token ID">base</span><span class="BraceDepth-0 Token RPAREN">)</span><span class="Token SPACE"> </span><span class="Token HOST_NAME">kamilu@LZX</span><span class="Token COLON">:</span><span class="Token DIR_PATH">~/libc</span><span class="Token TAG">$</span><span class="Token SPACE"> </span><span class="Program Token PATH">./examples/main</span><span class="Token SPACE"> </span><span class="Token OPTION">-i</span><span class="Token SPACE"> </span><span class="Token NUMBER">100</span><span class="Token SPACE"> </span><span class="Token OPTION">-s</span><span class="Token SPACE"> </span><span class="Token NUMBER">200</span><span class="Token SPACE"> </span><span class="String Token STRING">&quot;300&quot;</span><span class="Token SPACE"> </span><span class="String Token STRING">&quot;400&quot;</span><span class="Token LF">
</span><span class="Variant Program Token ID">i</span><span class="Token SPACE"> </span><span class="Token ASSIGN">=</span><span class="Token SPACE"> </span><span class="Token NUMBER">100</span><span class="Token LF">
</span><span class="Variant Program Token ID">s</span><span class="Token SPACE"> </span><span class="Token ASSIGN">=</span><span class="Token SPACE"> </span><span class="Token NUMBER">200</span><span class="Token LF">
</span><span class="Variant Program Token ID">dest</span><span class="Token SPACE"> </span><span class="Token ASSIGN">=</span><span class="Token SPACE"> </span><span class="Token NUMBER">300</span><span class="Token LF">
</span><span class="Variant Program Token ID">src</span><span class="Token SPACE"> </span><span class="Token ASSIGN">=</span><span class="Token SPACE"> </span><span class="Token NUMBER">400</span><span class="Token LF">
</span><span class="BraceDepth-0 Token LPAREN">(</span><span class="Program Token ID">base</span><span class="BraceDepth-0 Token RPAREN">)</span><span class="Token SPACE"> </span><span class="Token HOST_NAME">kamilu@LZX</span><span class="Token COLON">:</span><span class="Token DIR_PATH">~/libc</span><span class="Token TAG">$</span><span class="Token SPACE"> </span><span class="Program Token PATH">./examples/main</span><span class="Token SPACE"> </span><span class="Token OPTION">-i</span><span class="Token SPACE"> </span><span class="Token NUMBER">100</span><span class="Token SPACE"> </span><span class="Token OPTION">-s</span><span class="Token SPACE"> </span><span class="Token NUMBER">200</span><span class="Token SPACE"> </span><span class="String Token STRING">&quot;300&quot;</span><span class="Token SPACE"> </span><span class="String Token STRING">&quot;400&quot;</span><span class="Token SPACE"> </span><span class="String Token STRING">&quot;500&quot;</span><span class="Token LF">
</span><span class="Variant Program Token ID">i</span><span class="Token SPACE"> </span><span class="Token ASSIGN">=</span><span class="Token SPACE"> </span><span class="Token NUMBER">100</span><span class="Token LF">
</span><span class="Variant Program Token ID">s</span><span class="Token SPACE"> </span><span class="Token ASSIGN">=</span><span class="Token SPACE"> </span><span class="Token NUMBER">200</span><span class="Token LF">
</span><span class="Variant Program Token ID">dest</span><span class="Token SPACE"> </span><span class="Token ASSIGN">=</span><span class="Token SPACE"> </span><span class="Token NUMBER">300</span><span class="Token LF">
</span><span class="Variant Program Token ID">src</span><span class="Token SPACE"> </span><span class="Token ASSIGN">=</span><span class="Token SPACE"> </span><span class="Token NUMBER">400</span><span class="Token LF">
</span><span class="Program Token ID">other</span><span class="Token SPACE"> </span><span class="Token ID">number</span><span class="BraceDepth-0 Token LSQUAR_PAREN">[</span><span class="Token NUMBER">0</span><span class="BraceDepth-0 Token RSQUAR_PAREN">]</span><span class="Token SPACE"> </span><span class="Token ASSIGN">=</span><span class="Token SPACE"> </span><span class="Token NUMBER">500</span><span class="Token LF">
</span><span class="BraceDepth-0 Token LPAREN">(</span><span class="Program Token ID">base</span><span class="BraceDepth-0 Token RPAREN">)</span><span class="Token SPACE"> </span><span class="Token HOST_NAME">kamilu@LZX</span><span class="Token COLON">:</span><span class="Token DIR_PATH">~/libc</span><span class="Token TAG">$</span><span class="Token SPACE"> </span><span class="Program Token PATH">./examples/main</span><span class="Token SPACE"> </span><span class="Token OPTION">-i</span><span class="Token SPACE"> </span><span class="Token NUMBER">100</span><span class="Token SPACE"> </span><span class="Token OPTION">-s</span><span class="Token SPACE"> </span><span class="Token NUMBER">200</span><span class="Token SPACE"> </span><span class="String Token STRING">&quot;300&quot;</span><span class="Token SPACE"> </span><span class="String Token STRING">&quot;400&quot;</span><span class="Token SPACE"> </span><span class="Token ID">abc</span><span class="Token LF">
</span><span class="BraceDepth-0 Token LSQUAR_PAREN">[</span><span class="Program Token ID">Args</span><span class="Token SPACE"> </span><span class="Token ID">Parse</span><span class="Token SPACE"> </span><span class="Token ID">Error</span><span class="BraceDepth-0 Token RSQUAR_PAREN">]</span><span class="Token COLON">:</span><span class="Token SPACE"> </span><span class="Token ID">argument</span><span class="Token SPACE"> </span><span class="Token ID">assign</span><span class="Token SPACE"> </span><span class="Token ID">to</span><span class="Token SPACE"> </span><span class="Token ID">be</span><span class="Token SPACE"> </span><span class="Token ID">int</span><span class="Token SPACE"> </span><span class="Token ID">but</span><span class="Token SPACE"> </span><span class="Token ID">get</span><span class="Token SPACE"> </span><span class="BraceDepth-0 Token LSQUAR_PAREN">[</span><span class="Token ID">abc</span><span class="BraceDepth-0 Token RSQUAR_PAREN">]</span></code></pre><h2 id="h2-2">用法说明</h2><p>以上面的示例为例, 我们需要<b>先定义变量然后构建一个 options 并与变量绑定</b></p><pre class="language-c"><code><span class="Keyword BaseType Token TypeSpecifier INT">int</span><span class="Keyword BaseType Token TypeSpecifier SPACE"> </span><span class="DirectDeclaractor Identifier Token ID">i</span><span class="Token Declaration SEMI">;</span><span class="Token Declaration LF">
</span><span class="Keyword BaseType Token TypeSpecifier CHAR">char</span><span class="Keyword BaseType Token TypeSpecifier SPACE"> </span><span class="Pointer Token Declarator POINTER">*</span><span class="DirectDeclaractor Identifier Token ID">s</span><span class="Token COMMA">,</span><span class="Token SPACE"> </span><span class="Pointer Token Declarator POINTER">*</span><span class="DirectDeclaractor Identifier Token ID">dest</span><span class="Token Declaration SEMI">;</span><span class="Token Declaration LF">
</span><span class="Keyword BaseType Token TypeSpecifier INT">int</span><span class="Keyword BaseType Token TypeSpecifier SPACE"> </span><span class="DirectDeclaractor Identifier Token ID">src</span><span class="Token Declaration SEMI">;</span><span class="Token Declaration LF">
</span><span class="Keyword BaseType Token TypeSpecifier INT">int</span><span class="Keyword BaseType Token TypeSpecifier SPACE"> </span><span class="Pointer Token Declarator POINTER">*</span><span class="DirectDeclaractor Identifier Token ID">other_numbers</span><span class="Token Declaration SEMI">;</span><span class="Token Declaration LF">
</span><span class="Keyword Typedefine Token TypeSpecifier TYPEDEF_ID">argparse_option</span><span class="Keyword Typedefine Token TypeSpecifier SPACE"> </span><span class="DirectDeclaractor Identifier Token ID">options</span><span class="BraceDepth-0 DirectDeclaractorPostfix Token LSQUAR_PAREN">[</span><span class="BraceDepth-0 DirectDeclaractorPostfix Token RSQUAR_PAREN">]</span><span class="DirectDeclaractorPostfix Token SPACE"> </span><span class="InitDeclarator Token ASSIGN">=</span><span class="InitDeclarator Token SPACE"> </span><span class="BraceDepth-0 InitDeclarator Token Initializer LCURLY_BRACE">{</span><span class="InitDeclarator Token Initializer LF">
</span><span class="InitDeclarator Token Initializer SPACE">    </span><span class="Identifier PrimaryExpression Token MacroDefine ID">XBOX_ARG_BOOLEAN</span><span class="Token BraceDepth-1 LPAREN">(</span><span class="Identifier Token MacroDefine ID">NULL</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="String Token STRING">&quot;-h&quot;</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="String Token STRING">&quot;--help&quot;</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="String Token STRING">&quot;show help information&quot;</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="Identifier Token MacroDefine ID">NULL</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="String Token STRING">&quot;help&quot;</span><span class="Token BraceDepth-1 RPAREN">)</span><span class="Token COMMA">,</span><span class="Token LF">
</span><span class="Token SPACE">    </span><span class="Identifier PrimaryExpression Token MacroDefine ID">XBOX_ARG_BOOLEAN</span><span class="Token BraceDepth-1 LPAREN">(</span><span class="Identifier Token MacroDefine ID">NULL</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="String Token STRING">&quot;-v&quot;</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="String Token STRING">&quot;--version&quot;</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="String Token STRING">&quot;show version&quot;</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="Identifier Token MacroDefine ID">NULL</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="String Token STRING">&quot;version&quot;</span><span class="Token BraceDepth-1 RPAREN">)</span><span class="Token COMMA">,</span><span class="Token LF">
</span><span class="Token SPACE">    </span><span class="Identifier PrimaryExpression Token MacroDefine ID">XBOX_ARG_INT</span><span class="Token BraceDepth-1 LPAREN">(</span><span class="PPtoken Token AMPERSAND">&amp;</span><span class="Identifier Token ID">i</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="String Token STRING">&quot;-i&quot;</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="String Token STRING">&quot;--input&quot;</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="String Token STRING">&quot;input file&quot;</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="Identifier Token MacroDefine ID">NULL</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="String Token STRING">&quot;input&quot;</span><span class="Token BraceDepth-1 RPAREN">)</span><span class="Token COMMA">,</span><span class="Token LF">
</span><span class="Token SPACE">    </span><span class="Identifier PrimaryExpression Token MacroDefine ID">XBOX_ARG_STR</span><span class="Token BraceDepth-1 LPAREN">(</span><span class="PPtoken Token AMPERSAND">&amp;</span><span class="Identifier Token ID">s</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="String Token STRING">&quot;-s&quot;</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="String Token STRING">&quot;--string&quot;</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="Identifier Token MacroDefine ID">NULL</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="Identifier Token MacroDefine ID">NULL</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="String Token STRING">&quot;string&quot;</span><span class="Token BraceDepth-1 RPAREN">)</span><span class="Token COMMA">,</span><span class="Token LF">
</span><span class="Token SPACE">    </span><span class="Identifier PrimaryExpression Token MacroDefine ID">XBOX_ARG_STR_GROUP</span><span class="Token BraceDepth-1 LPAREN">(</span><span class="PPtoken Token AMPERSAND">&amp;</span><span class="Identifier Token ID">dest</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="Identifier Token MacroDefine ID">NULL</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="Identifier Token MacroDefine ID">NULL</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="String Token STRING">&quot;destination&quot;</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="Identifier Token MacroDefine ID">NULL</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="String Token STRING">&quot;dest&quot;</span><span class="Token BraceDepth-1 RPAREN">)</span><span class="Token COMMA">,</span><span class="Token LF">
</span><span class="Token SPACE">    </span><span class="Identifier PrimaryExpression Token MacroDefine ID">XBOX_ARG_INT_GROUP</span><span class="Token BraceDepth-1 LPAREN">(</span><span class="PPtoken Token AMPERSAND">&amp;</span><span class="Identifier Token ID">src</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="Identifier Token MacroDefine ID">NULL</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="Identifier Token MacroDefine ID">NULL</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="String Token STRING">&quot;source&quot;</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="Identifier Token MacroDefine ID">NULL</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="String Token STRING">&quot;src&quot;</span><span class="Token BraceDepth-1 RPAREN">)</span><span class="Token COMMA">,</span><span class="Token LF">
</span><span class="Token SPACE">    </span><span class="Identifier PrimaryExpression Token MacroDefine ID">XBOX_ARG_INTS_GROUP</span><span class="Token BraceDepth-1 LPAREN">(</span><span class="PPtoken Token AMPERSAND">&amp;</span><span class="Identifier Token ID">other_numbers</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="Identifier Token MacroDefine ID">NULL</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="Identifier Token MacroDefine ID">NULL</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="String Token STRING">&quot;catch the other number ...&quot;</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="Identifier Token MacroDefine ID">NULL</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="String Token STRING">&quot;other-number&quot;</span><span class="Token BraceDepth-1 RPAREN">)</span><span class="Token COMMA">,</span><span class="Token LF">
</span><span class="Token SPACE">    </span><span class="Identifier PrimaryExpression Token MacroDefine ID">XBOX_ARG_END</span><span class="Token BraceDepth-1 LPAREN">(</span><span class="Token BraceDepth-1 RPAREN">)</span><span class="Token LF">
</span><span class="BraceDepth-0 InitDeclarator Token Initializer RCURLY_BRACE">}</span><span class="Token Declaration SEMI">;</span></code></pre><h3 id="h3-3">参数绑定</h3><p>以 <code>XBOX_ARG*</code> 开头的是宏, 第一个位置用于参数绑定, 后面的内容会被展开为字符串用于后续的解析</p><p>xargparse.h 一共提供了 8 种宏</p><ul><li><b>XBOX_ARG_BOOLEAN</b>: 适用于单参数, 例如 <code>-h</code>, 后面不需要跟其他参数信息</li></ul><ul><li><b>XBOX_ARG_INT</b>: 表示参数接收的应该是一个 int 类型的数字, 例如 <code>-i 100</code></li></ul><ul><li><b>XBOX_ARG_STR</b>: 表示参数接收的应该是一个 char* 类型的字符串, 例如 <code>-s &quot;hello world&quot;</code> <code>-s nihao</code></li></ul><ul><li><b>XBOX_ARG_INT_GROUP</b>: 表示接收一个组, 组中<b>至多有</b>一个元素, 组的数据类型是 int</li></ul><ul><li><b>XBOX_ARG_INTS_GROUP</b>: 表示接收一个组, 组中包含若干个元素, 组的数据类型是 int</li></ul><ul><li><b>XBOX_ARG_STR_GROUP</b>: 表示接收一个组, 组中<b>至多有</b>一个元素, 组的数据类型是 char*</li></ul><ul><li><b>XBOX_ARG_STRS_GROUP</b>: 表示接收一个组, 组中包含若干个元素, 组的数据类型是 char*</li></ul><ul><li><b>XBOX_ARG_END</b>: 表示结束, 添加在 options 数组的结尾</li></ul><p>组即不需要 <code>-i</code> <code>--input</code> 指定接收的正常参数, 以上面的例子为例, 如果命令行传参为: <code>./examples/main abc 100</code>, 其中 &quot;abc&quot; 会被 dest 组接收, 100 会被 src 组接收, <b>需要注意的是组是有前后顺序的</b></p><p>上述参数宏分别对应不同的使用场景, 您应该合理的使用和传参, <b>第一个位置需要绑定的参数类型与宏对应</b></p><ul><li><code>int</code> 对应 <b>XBOX_ARG_INT</b> 和 <b>XBOX_ARG_INT_GROUP</b></li></ul><ul><li><code>char*</code> 对应 <b>XBOX_ARG_STR</b> 和 <b>XBOX_ARG_STR_GROUP</b></li></ul><ul><li>对于若干参数的组来说您需要传递一个更深层次的指针<ul><li><code>int*</code> 对应 <b>XBOX_ARG_INTS_GROUP</b></li></ul><ul><li><code>char **</code> 对应 <b>XBOX_ARG_STRS_GROUP</b></li></ul></li></ul><ul><li>对于 bool 类型的参数, 您可以选择为 <b>XBOX_ARG_BOOLEAN</b> 绑定一个 NULL, 也可以绑定一个 int 类型</li></ul><h3 id="h3-4">参数信息</h3><p>上述的宏有6个参数位置, 分别是 (bind, short_name, long_name, help_info, append_info, name)</p><blockquote><p>如果不需要则传 NULL 即可</p></blockquote><ul><li><b>bind</b>: 绑定的变量</li></ul><ul><li><b>short_name</b>: 短参数, <b>单横杠 + 单字符</b>, 如 <code>-h</code> <code>-v</code> <code>-s</code></li></ul><ul><li><b>long_name</b>: 长参数, 长参数(包括--)至少 4 字节, 即 <code>--h</code> 不合法, <code>--info</code> <code>--space</code> <code>--config</code>合法</li></ul><ul><li><b>help_info</b>: 帮助信息</li></ul><ul><li><b>append_info</b>: 补充信息, 例如您希望说明参数后面跟参数的形式 <code>-O&lt;number&gt;</code>, 则添加 <code>&quot;&lt;number&gt;&quot;</code> 即可</li></ul><ul><li><b>name</b>: 重命名</li></ul><p>其中需要注意如下几点</p><ul><li>长参数默认只允许 <code>a-z_-</code> 的组合, 如果您希望使用其他字符你可手动修改其中 <code>check_valid_character</code> 函数</li></ul><ul><li>过长的帮助信息会自动折行处理, 默认 80 单行最大长度, 您可以通过修改 XBOX_HELP_INFO_LENGTH 宏的值来改变此选项</li></ul><p>之后您只需要构建对象, 初始化并解析即可</p><pre class="language-c"><code><span class="Keyword Typedefine Token TypeSpecifier TYPEDEF_ID">XBOX_argparse</span><span class="Keyword Typedefine Token TypeSpecifier SPACE"> </span><span class="DirectDeclaractor Identifier Token ID">parser</span><span class="Token Declaration SEMI">;</span><span class="Token Declaration LF">
</span><span class="Identifier Token FunctionCall PrimaryExpression ID">XBOX_argparse_init</span><span class="BraceDepth-0 PostfixExpression Token UnaryExpression LPAREN">(</span><span class="UnaryOp Token UnaryExpression AMPERSAND">&amp;</span><span class="Identifier Token PrimaryExpression ID">parser</span><span class="PostfixExpression Token UnaryExpression COMMA">,</span><span class="PostfixExpression Token UnaryExpression SPACE"> </span><span class="Identifier Token PrimaryExpression ID">options</span><span class="PostfixExpression Token UnaryExpression COMMA">,</span><span class="PostfixExpression Token UnaryExpression SPACE"> </span><span class="Constant Token PrimaryExpression NUMBER">0</span><span class="BraceDepth-0 PostfixExpression Token UnaryExpression RPAREN">)</span><span class="ExpressionStatement Token SEMI">;</span><span class="ExpressionStatement Token LF">
</span><span class="Identifier Token FunctionCall PrimaryExpression ID">XBOX_argparse_describe</span><span class="BraceDepth-0 PostfixExpression Token UnaryExpression LPAREN">(</span><span class="UnaryOp Token UnaryExpression AMPERSAND">&amp;</span><span class="Identifier Token PrimaryExpression ID">parser</span><span class="PostfixExpression Token UnaryExpression COMMA">,</span><span class="PostfixExpression Token UnaryExpression SPACE"> </span><span class="String Token STRING">&quot;ls&quot;</span><span class="PostfixExpression Token UnaryExpression COMMA">,</span><span class="PostfixExpression Token UnaryExpression SPACE"> </span><span class="String Token STRING">&quot;</span><span class="String Control Token STRING">\n</span><span class="String Token STRING">description&quot;</span><span class="PostfixExpression Token UnaryExpression COMMA">,</span><span class="PostfixExpression Token UnaryExpression SPACE"> </span><span class="String Token STRING">&quot;</span><span class="String Control Token STRING">\n</span><span class="String Token STRING">aaa.&quot;</span><span class="BraceDepth-0 PostfixExpression Token UnaryExpression RPAREN">)</span><span class="ExpressionStatement Token SEMI">;</span><span class="ExpressionStatement Token LF">
</span><span class="Identifier Token FunctionCall PrimaryExpression ID">XBOX_argparse_parse</span><span class="BraceDepth-0 PostfixExpression Token UnaryExpression LPAREN">(</span><span class="UnaryOp Token UnaryExpression AMPERSAND">&amp;</span><span class="Identifier Token PrimaryExpression ID">parser</span><span class="PostfixExpression Token UnaryExpression COMMA">,</span><span class="PostfixExpression Token UnaryExpression SPACE"> </span><span class="Identifier Token PrimaryExpression ID">argc</span><span class="PostfixExpression Token UnaryExpression COMMA">,</span><span class="PostfixExpression Token UnaryExpression SPACE"> </span><span class="Identifier Token PrimaryExpression ID">argv</span><span class="BraceDepth-0 PostfixExpression Token UnaryExpression RPAREN">)</span><span class="ExpressionStatement Token SEMI">;</span></code></pre><p>其中有两点需要说明:</p><p><code>XBOX_argparse_describe</code> 的2 3 4位置的参数分别为 解析器的名字, 简要描述, 结尾描述</p><p><code>XBOX_argparse_init</code> 第三个参数为 flag 标记位, 用于控制解析时的选项, 默认传 0 即可, 具体用法会在下文 解析扩展选项 中介绍</p><h2 id="h2-5">接收参数</h2><p><code>XBOX_ismatch</code> 函数用于判断是否接收到了参数, 并返回匹配的个数. 第二个参数是您定义的名字或长参数的名字</p><p>如果您使用的是若干参数的组, 您可以通过接收其返回值获取,如下所示</p><pre class="language-c"><code><span class="Keyword Token SelectionStatement IF">if</span><span class="Keyword Token SelectionStatement SPACE"> </span><span class="BraceDepth-0 Token SelectionStatement LPAREN">(</span><span class="Identifier Token FunctionCall PrimaryExpression ID">XBOX_ismatch</span><span class="PostfixExpression Token BraceDepth-1 UnaryExpression LPAREN">(</span><span class="UnaryOp Token UnaryExpression AMPERSAND">&amp;</span><span class="Identifier Token PrimaryExpression ID">parser</span><span class="PostfixExpression Token UnaryExpression COMMA">,</span><span class="PostfixExpression Token UnaryExpression SPACE"> </span><span class="String Token STRING">&quot;help&quot;</span><span class="PostfixExpression Token BraceDepth-1 UnaryExpression RPAREN">)</span><span class="BraceDepth-0 Token SelectionStatement RPAREN">)</span><span class="Token SelectionStatement SPACE"> </span><span class="CompoundStatement Token SelectionStatement BraceDepth-0 LCURLY_BRACE">{</span><span class="CompoundStatement Token SelectionStatement LF">
</span><span class="CompoundStatement Token SelectionStatement SPACE">    </span><span class="Identifier Token FunctionCall PrimaryExpression ID">XBOX_argparse_info</span><span class="PostfixExpression Token BraceDepth-1 UnaryExpression LPAREN">(</span><span class="UnaryOp Token UnaryExpression AMPERSAND">&amp;</span><span class="Identifier Token PrimaryExpression ID">parser</span><span class="PostfixExpression Token BraceDepth-1 UnaryExpression RPAREN">)</span><span class="ExpressionStatement Token SEMI">;</span><span class="ExpressionStatement Token LF">
</span><span class="CompoundStatement Token SelectionStatement BraceDepth-0 RCURLY_BRACE">}</span><span class="CompoundStatement Token SelectionStatement LF">
</span><span class="Keyword Token SelectionStatement IF">if</span><span class="Keyword Token SelectionStatement SPACE"> </span><span class="BraceDepth-0 Token SelectionStatement LPAREN">(</span><span class="Identifier Token FunctionCall PrimaryExpression ID">XBOX_ismatch</span><span class="PostfixExpression Token BraceDepth-1 UnaryExpression LPAREN">(</span><span class="UnaryOp Token UnaryExpression AMPERSAND">&amp;</span><span class="Identifier Token PrimaryExpression ID">parser</span><span class="PostfixExpression Token UnaryExpression COMMA">,</span><span class="PostfixExpression Token UnaryExpression SPACE"> </span><span class="String Token STRING">&quot;dest&quot;</span><span class="PostfixExpression Token BraceDepth-1 UnaryExpression RPAREN">)</span><span class="BraceDepth-0 Token SelectionStatement RPAREN">)</span><span class="Token SelectionStatement SPACE"> </span><span class="CompoundStatement Token SelectionStatement BraceDepth-0 LCURLY_BRACE">{</span><span class="CompoundStatement Token SelectionStatement LF">
</span><span class="CompoundStatement Token SelectionStatement SPACE">    </span><span class="Identifier Token FunctionCall PrimaryExpression ID">printf</span><span class="PostfixExpression Token BraceDepth-1 UnaryExpression LPAREN">(</span><span class="String Token STRING">&quot;dest = </span><span class="Format String Token STRING">%s</span><span class="String Control Token STRING">\n</span><span class="String Token STRING">&quot;</span><span class="PostfixExpression Token UnaryExpression COMMA">,</span><span class="PostfixExpression Token UnaryExpression SPACE"> </span><span class="Identifier Token PrimaryExpression ID">dest</span><span class="PostfixExpression Token BraceDepth-1 UnaryExpression RPAREN">)</span><span class="ExpressionStatement Token SEMI">;</span><span class="ExpressionStatement Token LF">
</span><span class="CompoundStatement Token SelectionStatement BraceDepth-0 RCURLY_BRACE">}</span><span class="CompoundStatement Token SelectionStatement LF">
</span><span class="Keyword Token SelectionStatement IF">if</span><span class="Keyword Token SelectionStatement SPACE"> </span><span class="BraceDepth-0 Token SelectionStatement LPAREN">(</span><span class="Identifier Token FunctionCall PrimaryExpression ID">XBOX_ismatch</span><span class="PostfixExpression Token BraceDepth-1 UnaryExpression LPAREN">(</span><span class="UnaryOp Token UnaryExpression AMPERSAND">&amp;</span><span class="Identifier Token PrimaryExpression ID">parser</span><span class="PostfixExpression Token UnaryExpression COMMA">,</span><span class="PostfixExpression Token UnaryExpression SPACE"> </span><span class="String Token STRING">&quot;src&quot;</span><span class="PostfixExpression Token BraceDepth-1 UnaryExpression RPAREN">)</span><span class="BraceDepth-0 Token SelectionStatement RPAREN">)</span><span class="Token SelectionStatement SPACE"> </span><span class="CompoundStatement Token SelectionStatement BraceDepth-0 LCURLY_BRACE">{</span><span class="CompoundStatement Token SelectionStatement LF">
</span><span class="CompoundStatement Token SelectionStatement SPACE">    </span><span class="Identifier Token FunctionCall PrimaryExpression ID">printf</span><span class="PostfixExpression Token BraceDepth-1 UnaryExpression LPAREN">(</span><span class="String Token STRING">&quot;src = </span><span class="Format String Token STRING">%d</span><span class="String Control Token STRING">\n</span><span class="String Token STRING">&quot;</span><span class="PostfixExpression Token UnaryExpression COMMA">,</span><span class="PostfixExpression Token UnaryExpression SPACE"> </span><span class="Identifier Token PrimaryExpression ID">src</span><span class="PostfixExpression Token BraceDepth-1 UnaryExpression RPAREN">)</span><span class="ExpressionStatement Token SEMI">;</span><span class="ExpressionStatement Token LF">
</span><span class="CompoundStatement Token SelectionStatement BraceDepth-0 RCURLY_BRACE">}</span><span class="CompoundStatement Token SelectionStatement LF">
</span><span class="CompoundStatement Token SelectionStatement LF">
</span><span class="Keyword BaseType Token TypeSpecifier INT">int</span><span class="Keyword BaseType Token TypeSpecifier SPACE"> </span><span class="DirectDeclaractor Identifier Token ID">n</span><span class="DirectDeclaractor Identifier Token SPACE"> </span><span class="InitDeclarator Token ASSIGN">=</span><span class="InitDeclarator Token SPACE"> </span><span class="Identifier Token FunctionCall PrimaryExpression ID">XBOX_ismatch</span><span class="BraceDepth-0 PostfixExpression Token UnaryExpression LPAREN">(</span><span class="UnaryOp Token UnaryExpression AMPERSAND">&amp;</span><span class="Identifier Token PrimaryExpression ID">parser</span><span class="PostfixExpression Token UnaryExpression COMMA">,</span><span class="PostfixExpression Token UnaryExpression SPACE"> </span><span class="String Token STRING">&quot;other-number&quot;</span><span class="BraceDepth-0 PostfixExpression Token UnaryExpression RPAREN">)</span><span class="Token Declaration SEMI">;</span><span class="Token Declaration LF">
</span><span class="Keyword Token IterationStatement FOR">for</span><span class="Keyword Token IterationStatement SPACE"> </span><span class="BraceDepth-0 Token IterationStatement LPAREN">(</span><span class="Keyword BaseType Token TypeSpecifier INT">int</span><span class="Keyword BaseType Token TypeSpecifier SPACE"> </span><span class="DirectDeclaractor Identifier Token ID">i</span><span class="DirectDeclaractor Identifier Token SPACE"> </span><span class="InitDeclarator Token ASSIGN">=</span><span class="InitDeclarator Token SPACE"> </span><span class="Constant Token PrimaryExpression NUMBER">0</span><span class="Token IterationStatement Declaration SEMI">;</span><span class="Token IterationStatement Declaration SPACE"> </span><span class="Identifier Token PrimaryExpression ID">i</span><span class="Identifier Token PrimaryExpression SPACE"> </span><span class="BinaryOp ConditionalExpression Token LT">&lt;</span><span class="BinaryOp ConditionalExpression Token SPACE"> </span><span class="Identifier Token PrimaryExpression ID">n</span><span class="Token IterationStatement SEMI">;</span><span class="Token IterationStatement SPACE"> </span><span class="Identifier Token PrimaryExpression ID">i</span><span class="PostfixExpression Token UnaryExpression INC">++</span><span class="BraceDepth-0 Token IterationStatement RPAREN">)</span><span class="Token IterationStatement SPACE"> </span><span class="CompoundStatement Token IterationStatement BraceDepth-0 LCURLY_BRACE">{</span><span class="CompoundStatement Token IterationStatement LF">
</span><span class="CompoundStatement Token IterationStatement SPACE">    </span><span class="Identifier Token FunctionCall PrimaryExpression ID">printf</span><span class="PostfixExpression Token BraceDepth-1 UnaryExpression LPAREN">(</span><span class="String Token STRING">&quot;other number[</span><span class="Format String Token STRING">%d</span><span class="String Token STRING">] = </span><span class="Format String Token STRING">%d</span><span class="String Control Token STRING">\n</span><span class="String Token STRING">&quot;</span><span class="PostfixExpression Token UnaryExpression COMMA">,</span><span class="PostfixExpression Token UnaryExpression SPACE"> </span><span class="Identifier Token PrimaryExpression ID">i</span><span class="PostfixExpression Token UnaryExpression COMMA">,</span><span class="PostfixExpression Token UnaryExpression SPACE"> </span><span class="Identifier Token PrimaryExpression ID">other_numbers</span><span class="PostfixExpression Token BraceDepth-2 UnaryExpression LSQUAR_PAREN">[</span><span class="Identifier Token PrimaryExpression ID">i</span><span class="PostfixExpression Token BraceDepth-2 UnaryExpression RSQUAR_PAREN">]</span><span class="PostfixExpression Token BraceDepth-1 UnaryExpression RPAREN">)</span><span class="ExpressionStatement Token SEMI">;</span><span class="ExpressionStatement Token LF">
</span><span class="CompoundStatement Token IterationStatement BraceDepth-0 RCURLY_BRACE">}</span><span class="CompoundStatement Token IterationStatement LF">
</span><span class="Identifier Token FunctionCall PrimaryExpression ID">XBOX_free_argparse</span><span class="BraceDepth-0 PostfixExpression Token UnaryExpression LPAREN">(</span><span class="UnaryOp Token UnaryExpression AMPERSAND">&amp;</span><span class="Identifier Token PrimaryExpression ID">parser</span><span class="BraceDepth-0 PostfixExpression Token UnaryExpression RPAREN">)</span><span class="ExpressionStatement Token SEMI">;</span></code></pre><p>xbox 提供了一个函数 <code>XBOX_argparse_info</code> 用于帮助信息的输出, 建议您在 options 中添加 -h 选项并将其绑定到 XBOX_argparse_info 函数, 用于辅助帮助信息的输出, 当然您也可以编写您自定义的 help 信息文档. 默认的帮助信息会自动为您实现对齐和说明</p><pre class="language-shell"><code><span class="BraceDepth-0 Token LPAREN">(</span><span class="Program Token ID">base</span><span class="BraceDepth-0 Token RPAREN">)</span><span class="Token SPACE"> </span><span class="Token HOST_NAME">kamilu@LZX</span><span class="Token COLON">:</span><span class="Token DIR_PATH">~/libc</span><span class="Token TAG">$</span><span class="Token SPACE"> </span><span class="Program Token PATH">./examples/main</span><span class="Token SPACE"> </span><span class="Token OPTION">--help</span><span class="Token LF">
</span><span class="Program Token ID">Usage:</span><span class="Token SPACE"> </span><span class="Token ID">ls</span><span class="Token SPACE"> </span><span class="BraceDepth-0 Token LSQUAR_PAREN">[</span><span class="Token ID">OPTION</span><span class="BraceDepth-0 Token RSQUAR_PAREN">]</span><span class="Token ID">...</span><span class="Token SPACE"> </span><span class="BraceDepth-0 Token LSQUAR_PAREN">[</span><span class="Token ID">dest</span><span class="BraceDepth-0 Token RSQUAR_PAREN">]</span><span class="Token SPACE"> </span><span class="BraceDepth-0 Token LSQUAR_PAREN">[</span><span class="Token ID">src</span><span class="BraceDepth-0 Token RSQUAR_PAREN">]</span><span class="Token SPACE"> </span><span class="BraceDepth-0 Token LSQUAR_PAREN">[</span><span class="Token ID">other-number</span><span class="BraceDepth-0 Token RSQUAR_PAREN">]</span><span class="Token ID">...</span><span class="Token LF">
</span><span class="Token LF">
</span><span class="Program Token ID">A</span><span class="Token SPACE"> </span><span class="Token ID">brief</span><span class="Token SPACE"> </span><span class="Token ID">description</span><span class="Token SPACE"> </span><span class="Token ID">of</span><span class="Token SPACE"> </span><span class="Token ID">what</span><span class="Token SPACE"> </span><span class="Token ID">the</span><span class="Token SPACE"> </span><span class="Token ID">program</span><span class="Token SPACE"> </span><span class="Token ID">does</span><span class="Token SPACE"> </span><span class="Token ID">and</span><span class="Token SPACE"> </span><span class="Token ID">how</span><span class="Token SPACE"> </span><span class="Token ID">it</span><span class="Token SPACE"> </span><span class="Token ID">works.</span><span class="Token LF">
</span><span class="Token LF">
</span><span class="Token SPACE">  </span><span class="Token OPTION">-h</span><span class="Token SPACE">   </span><span class="Token OPTION">--help</span><span class="Token SPACE">      </span><span class="Program Token ID">show</span><span class="Token SPACE"> </span><span class="Token ID">help</span><span class="Token SPACE"> </span><span class="Token ID">information</span><span class="Token LF">
</span><span class="Token SPACE">  </span><span class="Token OPTION">-v</span><span class="Token SPACE">   </span><span class="Token OPTION">--version</span><span class="Token SPACE">   </span><span class="Program Token ID">show</span><span class="Token SPACE"> </span><span class="Token ID">version</span><span class="Token LF">
</span><span class="Token SPACE">  </span><span class="Token OPTION">-i</span><span class="Token SPACE">   </span><span class="Token OPTION">--input</span><span class="Token SPACE">     </span><span class="Program Token ID">input</span><span class="Token SPACE"> </span><span class="Token ID">file</span><span class="Token LF">
</span><span class="Token SPACE">  </span><span class="Token OPTION">-s</span><span class="Token SPACE">   </span><span class="Token OPTION">--string</span><span class="Token LF">
</span><span class="Program Token ID">Additional</span><span class="Token SPACE"> </span><span class="Token ID">description</span><span class="Token SPACE"> </span><span class="Token ID">of</span><span class="Token SPACE"> </span><span class="Token ID">the</span><span class="Token SPACE"> </span><span class="Token ID">program</span><span class="Token SPACE"> </span><span class="Token ID">after</span><span class="Token SPACE"> </span><span class="Token ID">the</span><span class="Token SPACE"> </span><span class="Token ID">description</span><span class="Token SPACE"> </span><span class="Token ID">of</span><span class="Token SPACE"> </span><span class="Token ID">the</span><span class="Token SPACE"> </span><span class="Token ID">arguments.</span></code></pre><p><b>xargparse 使用了动态内存分配, 所以最后请注意使用 <code>XBOX_free_argparse</code> 释放内存</b></p><p>接下来您利用这些参数去处理您程序真正想要完成的事情了</p><h2 id="h2-6">解析扩展选项</h2><p>如果您希望扩展解析时选项, 您可修改 flag 标记位, 使用 <code>|</code> 运算将他们组合传入 flag</p><ul><li><b>XBOX_ARGPARSE_IGNORE_WARNING</b>: 忽略警告</li></ul><ul><li><b>XBOX_ARGPARSE_ENABLE_STICK</b>: 允许参数与值粘连 <code>-O1 -Iinclude/</code></li></ul><ul><li><b>XBOX_ARGPARSE_ENABLE_EQUAL</b>: 允许参数等号 <code>-i=123</code></li></ul><ul><li><b>XBOX_ARGPARSE_ENABLE_ARG_STICK</b>: 允许boolean类型参数粘连 <code>curl -Ls xxx</code>, 此选项仅支持 BOOLEAN 类型的粘连传递, 请不要加入其他类型</li></ul><ul><li><b>XBOX_ARGPARSE_DISABLE_SORT</b>: 帮助信息中参数不排序, 按照默认顺序输出</li></ul><blockquote><p>不建议忽略警告, 但您可以在确保构建无误后使用 <code>XBOX_ARGPARSE_IGNORE_WARNING</code> 忽略所有警告信息</p></blockquote><h3 id="h3-7">忽略警告</h3><p><code>XBOX_ARGPARSE_IGNORE_WARNING</code> : 如果启用此选项, 解析时会忽略所有警告信息(实验性)</p><h3 id="h3-8">参数与值粘连</h3><p><code>XBOX_ARGPARSE_ENABLE_STICK</code>: 允许参数与值粘连</p><p>正常情况下会被认为是粘连参数</p><pre class="language-shell"><code><span class="Token VARIANT">$</span><span class="Token SPACE"> </span><span class="Program Token PATH">./examples/main</span><span class="Token SPACE"> </span><span class="Token OPTION">-i100</span><span class="Token LF">
</span><span class="BraceDepth-0 Token LSQUAR_PAREN">[</span><span class="Program Token ID">Args</span><span class="Token SPACE"> </span><span class="Token ID">Parse</span><span class="Token SPACE"> </span><span class="Token ID">Error</span><span class="BraceDepth-0 Token RSQUAR_PAREN">]</span><span class="Token COLON">:</span><span class="Token SPACE"> </span><span class="Token ID">no</span><span class="Token SPACE"> </span><span class="Token ID">match</span><span class="Token SPACE"> </span><span class="Token ID">options</span><span class="Token SPACE"> </span><span class="Keyword Token FOR">for</span><span class="Token SPACE"> </span><span class="BraceDepth-0 Token LSQUAR_PAREN">[</span><span class="Token OPTION">-i100</span><span class="BraceDepth-0 Token RSQUAR_PAREN">]</span></code></pre><p>需要修改 flag 并重新编译</p><pre class="language-c"><code><span class="Identifier Token FunctionCall PrimaryExpression ID">XBOX_argparse_init</span><span class="BraceDepth-0 PostfixExpression Token UnaryExpression LPAREN">(</span><span class="UnaryOp Token UnaryExpression AMPERSAND">&amp;</span><span class="Identifier Token PrimaryExpression ID">parser</span><span class="PostfixExpression Token UnaryExpression COMMA">,</span><span class="PostfixExpression Token UnaryExpression SPACE"> </span><span class="Identifier Token PrimaryExpression ID">options</span><span class="PostfixExpression Token UnaryExpression COMMA">,</span><span class="PostfixExpression Token UnaryExpression SPACE"> </span><span class="Identifier PrimaryExpression Token MacroDefine ID">XBOX_ARGPARSE_ENABLE_STICK</span><span class="BraceDepth-0 PostfixExpression Token UnaryExpression RPAREN">)</span><span class="ExpressionStatement Token SEMI">;</span></code></pre><pre class="language-shell"><code><span class="Token VARIANT">$</span><span class="Token SPACE"> </span><span class="Program Token PATH">./examples/main</span><span class="Token SPACE"> </span><span class="Token OPTION">-i100</span><span class="Token SPACE"> </span><span class="Token OPTION">-sabcd</span><span class="Token LF">
</span><span class="Variant Program Token ID">i</span><span class="Token SPACE"> </span><span class="Token ASSIGN">=</span><span class="Token SPACE"> </span><span class="Token NUMBER">100</span><span class="Token LF">
</span><span class="Variant Program Token ID">s</span><span class="Token SPACE"> </span><span class="Token ASSIGN">=</span><span class="Token SPACE"> </span><span class="Token ID">abcd</span></code></pre><h3 id="h3-9">等号赋值</h3><p><code>XBOX_ARGPARSE_ENABLE_EQUAL</code>: 允许等号赋值</p><pre class="language-c"><code><span class="Identifier Token FunctionCall PrimaryExpression ID">XBOX_argparse_init</span><span class="BraceDepth-0 PostfixExpression Token UnaryExpression LPAREN">(</span><span class="UnaryOp Token UnaryExpression AMPERSAND">&amp;</span><span class="Identifier Token PrimaryExpression ID">parser</span><span class="PostfixExpression Token UnaryExpression COMMA">,</span><span class="PostfixExpression Token UnaryExpression SPACE"> </span><span class="Identifier Token PrimaryExpression ID">options</span><span class="PostfixExpression Token UnaryExpression COMMA">,</span><span class="PostfixExpression Token UnaryExpression SPACE"> </span><span class="Identifier PrimaryExpression Token MacroDefine ID">XBOX_ARGPARSE_ENABLE_EQUAL</span><span class="BraceDepth-0 PostfixExpression Token UnaryExpression RPAREN">)</span><span class="ExpressionStatement Token SEMI">;</span></code></pre><pre class="language-shell"><code><span class="Token VARIANT">$</span><span class="Token SPACE"> </span><span class="Program Token PATH">./examples/main</span><span class="Token SPACE"> </span><span class="Token OPTION">-s</span><span class="Token ASSIGN">=</span><span class="String Token STRING">&quot;hello world&quot;</span><span class="Token LF">
</span><span class="Variant Program Token ID">s</span><span class="Token SPACE"> </span><span class="Token ASSIGN">=</span><span class="Token SPACE"> </span><span class="Token ID">hello</span><span class="Token SPACE"> </span><span class="Token ID">world</span><span class="Token LF">
</span><span class="Token VARIANT">$</span><span class="Token SPACE"> </span><span class="Program Token PATH">./examples/main</span><span class="Token SPACE"> </span><span class="Token OPTION">-s</span><span class="Token ASSIGN">=</span><span class="Token ID">hello</span><span class="Token LF">
</span><span class="Variant Program Token ID">s</span><span class="Token SPACE"> </span><span class="Token ASSIGN">=</span><span class="Token SPACE"> </span><span class="Token ID">hello</span></code></pre><p>允许参数与值粘连与允许等号赋值参数赋值通常一起使用, 并优先考虑 <code>=</code> 赋值, 即对于 <code>./examples/main -s=&quot;hello world&quot;</code> 来说, 结果是 <code>s = hello world</code> 而不是 <code>s = =hello world</code></p><pre class="language-c"><code><span class="Identifier Token FunctionCall PrimaryExpression ID">XBOX_argparse_init</span><span class="BraceDepth-0 PostfixExpression Token UnaryExpression LPAREN">(</span><span class="UnaryOp Token UnaryExpression AMPERSAND">&amp;</span><span class="Identifier Token PrimaryExpression ID">parser</span><span class="PostfixExpression Token UnaryExpression COMMA">,</span><span class="PostfixExpression Token UnaryExpression SPACE"> </span><span class="Identifier Token PrimaryExpression ID">options</span><span class="PostfixExpression Token UnaryExpression COMMA">,</span><span class="PostfixExpression Token UnaryExpression SPACE"> </span><span class="Identifier PrimaryExpression Token MacroDefine ID">XBOX_ARGPARSE_ENABLE_EQUAL</span><span class="BinaryOp ConditionalExpression Token PIPE">|</span><span class="Identifier PrimaryExpression Token MacroDefine ID">XBOX_ARGPARSE_ENABLE_STICK</span><span class="BraceDepth-0 PostfixExpression Token UnaryExpression RPAREN">)</span><span class="ExpressionStatement Token SEMI">;</span></code></pre><h2 id="h2-10">bool参数粘连</h2><p><code>XBOX_ARGPARSE_ENABLE_ARG_STICK</code>: 支持bool类型的参数粘连, 注意与 <code>XBOX_ARGPARSE_ENABLE_STICK</code>(选项与参数粘连) 不同</p><pre class="language-shell"><code><span class="Token VARIANT">$</span><span class="Token SPACE"> </span><span class="Program Token PATH">./examples/main</span><span class="Token SPACE"> </span><span class="Token OPTION">-hv</span><span class="Token LF">
</span><span class="BraceDepth-0 Token LSQUAR_PAREN">[</span><span class="Program Token ID">Args</span><span class="Token SPACE"> </span><span class="Token ID">Parse</span><span class="Token SPACE"> </span><span class="Token ID">Error</span><span class="BraceDepth-0 Token RSQUAR_PAREN">]</span><span class="Token COLON">:</span><span class="Token SPACE"> </span><span class="Token ID">Boolean</span><span class="Token SPACE"> </span><span class="Token ID">argument</span><span class="Token SPACE"> </span><span class="BraceDepth-0 Token LSQUAR_PAREN">[</span><span class="Token OPTION">-h</span><span class="BraceDepth-0 Token RSQUAR_PAREN">]</span><span class="Token SPACE"> </span><span class="Token ID">is</span><span class="Token SPACE"> </span><span class="Token ID">sticky</span><span class="Token SPACE"> </span><span class="Keyword Token IN">in</span><span class="Token SPACE"> </span><span class="BraceDepth-0 Token LSQUAR_PAREN">[</span><span class="Token OPTION">-hv</span><span class="BraceDepth-0 Token RSQUAR_PAREN">]</span><span class="Token COMMA">,</span><span class="Token SPACE"> </span><span class="Keyword Token DO">do</span><span class="Token SPACE"> </span><span class="Token ID">you</span><span class="Token SPACE"> </span><span class="Token ID">mean</span><span class="Token SPACE"> </span><span class="Token ID">XBOX_ARGPARSE_ENABLE_ARG_STICK</span><span class="Token QUSTION">?</span></code></pre><pre class="language-c"><code><span class="Identifier Token FunctionCall PrimaryExpression ID">XBOX_argparse_init</span><span class="BraceDepth-0 PostfixExpression Token UnaryExpression LPAREN">(</span><span class="UnaryOp Token UnaryExpression AMPERSAND">&amp;</span><span class="Identifier Token PrimaryExpression ID">parser</span><span class="PostfixExpression Token UnaryExpression COMMA">,</span><span class="PostfixExpression Token UnaryExpression SPACE"> </span><span class="Identifier Token PrimaryExpression ID">options</span><span class="PostfixExpression Token UnaryExpression COMMA">,</span><span class="PostfixExpression Token UnaryExpression SPACE"> </span><span class="Identifier PrimaryExpression Token MacroDefine ID">XBOX_ARGPARSE_ENABLE_ARG_STICK</span><span class="BraceDepth-0 PostfixExpression Token UnaryExpression RPAREN">)</span><span class="ExpressionStatement Token SEMI">;</span></code></pre><pre class="language-shell"><code><span class="Token VARIANT">$</span><span class="Token SPACE"> </span><span class="Program Token PATH">./examples/main</span><span class="Token SPACE"> </span><span class="Token OPTION">-hv</span><span class="Token LF">
</span><span class="Program Token ID">Usage:</span><span class="Token SPACE"> </span><span class="Token ID">ls</span><span class="Token SPACE"> </span><span class="BraceDepth-0 Token LSQUAR_PAREN">[</span><span class="Token ID">OPTION</span><span class="BraceDepth-0 Token RSQUAR_PAREN">]</span><span class="Token ID">...</span><span class="Token SPACE"> </span><span class="BraceDepth-0 Token LSQUAR_PAREN">[</span><span class="Token ID">dest</span><span class="BraceDepth-0 Token RSQUAR_PAREN">]</span><span class="Token SPACE"> </span><span class="BraceDepth-0 Token LSQUAR_PAREN">[</span><span class="Token ID">src</span><span class="BraceDepth-0 Token RSQUAR_PAREN">]</span><span class="Token SPACE"> </span><span class="BraceDepth-0 Token LSQUAR_PAREN">[</span><span class="Token ID">other-number</span><span class="BraceDepth-0 Token RSQUAR_PAREN">]</span><span class="Token ID">...</span><span class="Token LF">
</span><span class="Token LF">
</span><span class="Program Token ID">A</span><span class="Token SPACE"> </span><span class="Token ID">brief</span><span class="Token SPACE"> </span><span class="Token ID">description</span><span class="Token SPACE"> </span><span class="Token ID">of</span><span class="Token SPACE"> </span><span class="Token ID">what</span><span class="Token SPACE"> </span><span class="Token ID">the</span><span class="Token SPACE"> </span><span class="Token ID">program</span><span class="Token SPACE"> </span><span class="Token ID">does</span><span class="Token SPACE"> </span><span class="Token ID">and</span><span class="Token SPACE"> </span><span class="Token ID">how</span><span class="Token SPACE"> </span><span class="Token ID">it</span><span class="Token SPACE"> </span><span class="Token ID">works.</span><span class="Token LF">
</span><span class="Token LF">
</span><span class="Token SPACE">  </span><span class="Token OPTION">-h</span><span class="Token SPACE">    </span><span class="Token OPTION">--help</span><span class="Token SPACE">           </span><span class="Program Token ID">show</span><span class="Token SPACE"> </span><span class="Token ID">help</span><span class="Token SPACE"> </span><span class="Token ID">information</span><span class="Token LF">
</span><span class="Token SPACE">  </span><span class="Token OPTION">-i</span><span class="Token SPACE">    </span><span class="Token OPTION">--input</span><span class="Token SPACE">          </span><span class="Program Token ID">input</span><span class="Token SPACE"> </span><span class="Token ID">file</span><span class="Token LF">
</span><span class="Token SPACE">  </span><span class="Token OPTION">-s</span><span class="Token SPACE">    </span><span class="Token OPTION">--string</span><span class="Token LF">
</span><span class="Token SPACE">  </span><span class="Token OPTION">-v</span><span class="Token SPACE">    </span><span class="Token OPTION">--version</span><span class="Token SPACE">        </span><span class="Program Token ID">show</span><span class="Token SPACE"> </span><span class="Token ID">version</span><span class="Token LF">
</span><span class="Program Token ID">Additional</span><span class="Token SPACE"> </span><span class="Token ID">description</span><span class="Token SPACE"> </span><span class="Token ID">of</span><span class="Token SPACE"> </span><span class="Token ID">the</span><span class="Token SPACE"> </span><span class="Token ID">program</span><span class="Token SPACE"> </span><span class="Token ID">after</span><span class="Token SPACE"> </span><span class="Token ID">the</span><span class="Token SPACE"> </span><span class="Token ID">description</span><span class="Token SPACE"> </span><span class="Token ID">of</span><span class="Token SPACE"> </span><span class="Token ID">the</span><span class="Token SPACE"> </span><span class="Token ID">arguments.</span><span class="Token LF">
</span><span class="Program Token ID">v0.0.1</span></code></pre><h2 id="h2-11">用法实例</h2><p>如果您的参数解析器初始化存在问题, 或者解析过程出现错误, 程序会输出相应的错误提示信息, 并且内部会自动调用 free 释放内存, 您无需担心内存泄漏的问题</p><p>您可复制如下代码进行编译, 也可以直接运行编译得到的 kcc 可执行文件</p><pre class="language-c"><code><span class="Token LF">
</span><span class="Token HASH">#</span><span class="Keyword Preprocess ControlLine Token INCLUDE">include</span><span class="Keyword Preprocess ControlLine Token SPACE"> </span><span class="HeaderName String Token STRING">&quot;xargparse.h&quot;</span><span class="Token LF">
</span><span class="Token LF">
</span><span class="Keyword BaseType Token TypeSpecifier CHAR">char</span><span class="Keyword BaseType Token TypeSpecifier SPACE"> </span><span class="Pointer Token Declarator POINTER">*</span><span class="DirectDeclaractor Identifier Token ID">output</span><span class="DirectDeclaractor Identifier Token SPACE"> </span><span class="InitDeclarator Token ASSIGN">=</span><span class="InitDeclarator Token SPACE"> </span><span class="Identifier PrimaryExpression Token MacroDefine ID">NULL</span><span class="Token Declaration SEMI">;</span><span class="Token Declaration LF">
</span><span class="Keyword BaseType Token TypeSpecifier CHAR">char</span><span class="Keyword BaseType Token TypeSpecifier SPACE"> </span><span class="Pointer Token Declarator POINTER">*</span><span class="Pointer Token Declarator POINTER">*</span><span class="DirectDeclaractor Identifier Token ID">include_path</span><span class="DirectDeclaractor Identifier Token SPACE"> </span><span class="InitDeclarator Token ASSIGN">=</span><span class="InitDeclarator Token SPACE"> </span><span class="Identifier PrimaryExpression Token MacroDefine ID">NULL</span><span class="Token Declaration SEMI">;</span><span class="Token Declaration LF">
</span><span class="Token Declaration LF">
</span><span class="Keyword BaseType Token TypeSpecifier CHAR">char</span><span class="Keyword BaseType Token TypeSpecifier SPACE"> </span><span class="Pointer Token Declarator POINTER">*</span><span class="Pointer Token Declarator POINTER">*</span><span class="DirectDeclaractor Identifier Token ID">files</span><span class="DirectDeclaractor Identifier Token SPACE"> </span><span class="InitDeclarator Token ASSIGN">=</span><span class="InitDeclarator Token SPACE"> </span><span class="Identifier PrimaryExpression Token MacroDefine ID">NULL</span><span class="Token Declaration SEMI">;</span><span class="Token Declaration LF">
</span><span class="Keyword BaseType Token TypeSpecifier CHAR">char</span><span class="Keyword BaseType Token TypeSpecifier SPACE"> </span><span class="Pointer Token Declarator POINTER">*</span><span class="DirectDeclaractor Identifier Token ID">optimize</span><span class="DirectDeclaractor Identifier Token SPACE"> </span><span class="InitDeclarator Token ASSIGN">=</span><span class="InitDeclarator Token SPACE"> </span><span class="Identifier PrimaryExpression Token MacroDefine ID">NULL</span><span class="Token Declaration SEMI">;</span><span class="Token Declaration LF">
</span><span class="Keyword BaseType Token TypeSpecifier CHAR">char</span><span class="Keyword BaseType Token TypeSpecifier SPACE"> </span><span class="Pointer Token Declarator POINTER">*</span><span class="Pointer Token Declarator POINTER">*</span><span class="DirectDeclaractor Identifier Token ID">warning</span><span class="DirectDeclaractor Identifier Token SPACE"> </span><span class="InitDeclarator Token ASSIGN">=</span><span class="InitDeclarator Token SPACE"> </span><span class="Identifier PrimaryExpression Token MacroDefine ID">NULL</span><span class="Token Declaration SEMI">;</span><span class="Token Declaration LF">
</span><span class="Keyword BaseType Token TypeSpecifier CHAR">char</span><span class="Keyword BaseType Token TypeSpecifier SPACE"> </span><span class="Pointer Token Declarator POINTER">*</span><span class="Pointer Token Declarator POINTER">*</span><span class="DirectDeclaractor Identifier Token ID">library_path</span><span class="DirectDeclaractor Identifier Token SPACE"> </span><span class="InitDeclarator Token ASSIGN">=</span><span class="InitDeclarator Token SPACE"> </span><span class="Identifier PrimaryExpression Token MacroDefine ID">NULL</span><span class="Token Declaration SEMI">;</span><span class="Token Declaration LF">
</span><span class="Keyword BaseType Token TypeSpecifier CHAR">char</span><span class="Keyword BaseType Token TypeSpecifier SPACE"> </span><span class="Pointer Token Declarator POINTER">*</span><span class="Pointer Token Declarator POINTER">*</span><span class="DirectDeclaractor Identifier Token ID">library_name</span><span class="DirectDeclaractor Identifier Token SPACE"> </span><span class="InitDeclarator Token ASSIGN">=</span><span class="InitDeclarator Token SPACE"> </span><span class="Identifier PrimaryExpression Token MacroDefine ID">NULL</span><span class="Token Declaration SEMI">;</span><span class="Token Declaration LF">
</span><span class="Keyword BaseType Token TypeSpecifier CHAR">char</span><span class="Keyword BaseType Token TypeSpecifier SPACE"> </span><span class="Pointer Token Declarator POINTER">*</span><span class="DirectDeclaractor Identifier Token ID">c_standard</span><span class="DirectDeclaractor Identifier Token SPACE"> </span><span class="InitDeclarator Token ASSIGN">=</span><span class="InitDeclarator Token SPACE"> </span><span class="Identifier PrimaryExpression Token MacroDefine ID">NULL</span><span class="Token Declaration SEMI">;</span><span class="Token Declaration LF">
</span><span class="Token Declaration LF">
</span><span class="Keyword BaseType Token TypeSpecifier INT">int</span><span class="Keyword BaseType Token TypeSpecifier SPACE"> </span><span class="DirectDeclaractor Identifier Token ID">debug</span><span class="DirectDeclaractor Identifier Token SPACE"> </span><span class="InitDeclarator Token ASSIGN">=</span><span class="InitDeclarator Token SPACE"> </span><span class="Constant Token PrimaryExpression NUMBER">0</span><span class="Token Declaration SEMI">;</span><span class="Token Declaration LF">
</span><span class="Token Declaration LF">
</span><span class="BaseType FunctionReturnType TypeSpecifier Token Keyword INT">int</span><span class="BaseType FunctionReturnType TypeSpecifier Token Keyword SPACE"> </span><span class="DirectDeclaractor Identifier FunctionName Token ID">main</span><span class="BraceDepth-0 DirectDeclaractor Token Declarator LPAREN">(</span><span class="Keyword BaseType Token TypeSpecifier INT">int</span><span class="Keyword BaseType Token TypeSpecifier SPACE"> </span><span class="DirectDeclaractor Identifier Token ID">argc</span><span class="Token COMMA">,</span><span class="Token SPACE"> </span><span class="Keyword Token QualifyType CONST">const</span><span class="Keyword Token QualifyType SPACE"> </span><span class="Keyword BaseType Token TypeSpecifier CHAR">char</span><span class="Keyword BaseType Token TypeSpecifier SPACE"> </span><span class="Pointer Token Declarator POINTER">*</span><span class="Pointer Token Declarator POINTER">*</span><span class="DirectDeclaractor Identifier Token ID">argv</span><span class="BraceDepth-0 DirectDeclaractor Token Declarator RPAREN">)</span><span class="DirectDeclaractor Token Declarator SPACE"> </span><span class="CompoundStatement Function Token BraceDepth-0 LCURLY_BRACE">{</span><span class="CompoundStatement Function Token LF">
</span><span class="CompoundStatement Function Token SPACE">    </span><span class="Keyword Typedefine Token TypeSpecifier TYPEDEF_ID">argparse_option</span><span class="Keyword Typedefine Token TypeSpecifier SPACE"> </span><span class="DirectDeclaractor Identifier Token ID">options</span><span class="DirectDeclaractorPostfix Token BraceDepth-1 LSQUAR_PAREN">[</span><span class="DirectDeclaractorPostfix Token BraceDepth-1 RSQUAR_PAREN">]</span><span class="DirectDeclaractorPostfix Token SPACE"> </span><span class="InitDeclarator Token ASSIGN">=</span><span class="InitDeclarator Token SPACE"> </span><span class="InitDeclarator Token BraceDepth-1 Initializer LCURLY_BRACE">{</span><span class="InitDeclarator Token Initializer LF">
</span><span class="InitDeclarator Token Initializer SPACE">        </span><span class="Identifier PrimaryExpression Token MacroDefine ID">XBOX_ARG_BOOLEAN</span><span class="Token BraceDepth-2 LPAREN">(</span><span class="Identifier Token MacroDefine ID">NULL</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="String Token STRING">&quot;-c&quot;</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="Identifier Token MacroDefine ID">NULL</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="String Token STRING">&quot;Compile and assemble, but do not link.&quot;</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="Identifier Token MacroDefine ID">NULL</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="String Token STRING">&quot;compile&quot;</span><span class="Token BraceDepth-2 RPAREN">)</span><span class="Token COMMA">,</span><span class="Token LF">
</span><span class="Token SPACE">        </span><span class="Identifier PrimaryExpression Token MacroDefine ID">XBOX_ARG_STR</span><span class="Token BraceDepth-2 LPAREN">(</span><span class="PPtoken Token AMPERSAND">&amp;</span><span class="Identifier Token ID">output</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="String Token STRING">&quot;-o&quot;</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="Identifier Token MacroDefine ID">NULL</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="String Token STRING">&quot;Place the output into &lt;file&gt;.&quot;</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="String Token STRING">&quot; &lt;file&gt;&quot;</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="Identifier Token MacroDefine ID">NULL</span><span class="Token BraceDepth-2 RPAREN">)</span><span class="Token COMMA">,</span><span class="Token LF">
</span><span class="Token SPACE">        </span><span class="Identifier PrimaryExpression Token MacroDefine ID">XBOX_ARG_STRS</span><span class="Token BraceDepth-2 LPAREN">(</span><span class="PPtoken Token AMPERSAND">&amp;</span><span class="Identifier Token ID">include_path</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="String Token STRING">&quot;-I&quot;</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="Identifier Token MacroDefine ID">NULL</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="String Token STRING">&quot;Add &lt;dir&gt; to the end of the main include path.&quot;</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="String Token STRING">&quot;&lt;dir&gt;&quot;</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="String Token STRING">&quot;include&quot;</span><span class="Token BraceDepth-2 RPAREN">)</span><span class="Token COMMA">,</span><span class="Token LF">
</span><span class="Token SPACE">        </span><span class="Identifier PrimaryExpression Token MacroDefine ID">XBOX_ARG_STRS</span><span class="Token BraceDepth-2 LPAREN">(</span><span class="Token LF">
</span><span class="Token SPACE">            </span><span class="PPtoken Token AMPERSAND">&amp;</span><span class="Identifier Token ID">library_path</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="String Token STRING">&quot;-L&quot;</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="Identifier Token MacroDefine ID">NULL</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="String Token STRING">&quot;Add &lt;dir&gt; to the end of the main library path. &quot;</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="String Token STRING">&quot;&lt;dir&gt;&quot;</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="String Token STRING">&quot;library_path&quot;</span><span class="Token BraceDepth-2 RPAREN">)</span><span class="Token COMMA">,</span><span class="Token LF">
</span><span class="Token SPACE">        </span><span class="Identifier PrimaryExpression Token MacroDefine ID">XBOX_ARG_STRS</span><span class="Token BraceDepth-2 LPAREN">(</span><span class="PPtoken Token AMPERSAND">&amp;</span><span class="Identifier Token ID">library_name</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="String Token STRING">&quot;-l&quot;</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="Identifier Token MacroDefine ID">NULL</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="String Token STRING">&quot;Search &lt;lib&gt; in library path&quot;</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="String Token STRING">&quot;&lt;lib&gt;&quot;</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="String Token STRING">&quot;library_name&quot;</span><span class="Token BraceDepth-2 RPAREN">)</span><span class="Token COMMA">,</span><span class="Token LF">
</span><span class="Token SPACE">        </span><span class="Identifier PrimaryExpression Token MacroDefine ID">XBOX_ARG_BOOLEAN</span><span class="Token BraceDepth-2 LPAREN">(</span><span class="PPtoken Token AMPERSAND">&amp;</span><span class="Identifier Token ID">debug</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="String Token STRING">&quot;-g&quot;</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="Identifier Token MacroDefine ID">NULL</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="String Token STRING">&quot;Generate debug information in default format.&quot;</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="Identifier Token MacroDefine ID">NULL</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="String Token STRING">&quot;debug&quot;</span><span class="Token BraceDepth-2 RPAREN">)</span><span class="Token COMMA">,</span><span class="Token LF">
</span><span class="Token SPACE">        </span><span class="Identifier PrimaryExpression Token MacroDefine ID">XBOX_ARG_STRS</span><span class="Token BraceDepth-2 LPAREN">(</span><span class="PPtoken Token AMPERSAND">&amp;</span><span class="Identifier Token ID">warning</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="String Token STRING">&quot;-W&quot;</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="Identifier Token MacroDefine ID">NULL</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="String Token STRING">&quot;Warning information option&quot;</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="Identifier Token MacroDefine ID">NULL</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="Identifier Token MacroDefine ID">NULL</span><span class="Token BraceDepth-2 RPAREN">)</span><span class="Token COMMA">,</span><span class="Token LF">
</span><span class="Token SPACE">        </span><span class="Identifier PrimaryExpression Token MacroDefine ID">XBOX_ARG_STR</span><span class="Token BraceDepth-2 LPAREN">(</span><span class="PPtoken Token AMPERSAND">&amp;</span><span class="Identifier Token ID">optimize</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="String Token STRING">&quot;-O&quot;</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="String Token STRING">&quot;--optimize&quot;</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="String Token STRING">&quot;optimization level to &lt;number&gt;.&quot;</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="String Token STRING">&quot;&lt;number&gt;&quot;</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="Identifier Token MacroDefine ID">NULL</span><span class="Token BraceDepth-2 RPAREN">)</span><span class="Token COMMA">,</span><span class="Token LF">
</span><span class="Token SPACE">        </span><span class="Identifier PrimaryExpression Token MacroDefine ID">XBOX_ARG_STR</span><span class="Token BraceDepth-2 LPAREN">(</span><span class="PPtoken Token AMPERSAND">&amp;</span><span class="Identifier Token ID">c_standard</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="Identifier Token MacroDefine ID">NULL</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="String Token STRING">&quot;--std&quot;</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="String Token STRING">&quot;C Compile standard, supported: {c99}&quot;</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="String Token STRING">&quot;=&lt;standard&gt;&quot;</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="Identifier Token MacroDefine ID">NULL</span><span class="Token BraceDepth-2 RPAREN">)</span><span class="Token COMMA">,</span><span class="Token LF">
</span><span class="Token SPACE">        </span><span class="Identifier PrimaryExpression Token MacroDefine ID">XBOX_ARG_BOOLEAN</span><span class="Token BraceDepth-2 LPAREN">(</span><span class="Identifier Token MacroDefine ID">NULL</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="String Token STRING">&quot;-h&quot;</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="String Token STRING">&quot;--help&quot;</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="String Token STRING">&quot;show help information&quot;</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="Identifier Token MacroDefine ID">NULL</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="String Token STRING">&quot;help&quot;</span><span class="Token BraceDepth-2 RPAREN">)</span><span class="Token COMMA">,</span><span class="Token LF">
</span><span class="Token SPACE">        </span><span class="Identifier PrimaryExpression Token MacroDefine ID">XBOX_ARG_BOOLEAN</span><span class="Token BraceDepth-2 LPAREN">(</span><span class="Identifier Token MacroDefine ID">NULL</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="String Token STRING">&quot;-v&quot;</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="String Token STRING">&quot;--version&quot;</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="String Token STRING">&quot;show version&quot;</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="Identifier Token MacroDefine ID">NULL</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="String Token STRING">&quot;version&quot;</span><span class="Token BraceDepth-2 RPAREN">)</span><span class="Token COMMA">,</span><span class="Token LF">
</span><span class="Token SPACE">        </span><span class="Identifier PrimaryExpression Token MacroDefine ID">XBOX_ARG_STRS_GROUP</span><span class="Token BraceDepth-2 LPAREN">(</span><span class="PPtoken Token AMPERSAND">&amp;</span><span class="Identifier Token ID">files</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="Identifier Token MacroDefine ID">NULL</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="Identifier Token MacroDefine ID">NULL</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="Identifier Token MacroDefine ID">NULL</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="Identifier Token MacroDefine ID">NULL</span><span class="PPtoken Token COMMA">,</span><span class="PPtoken Token SPACE"> </span><span class="String Token STRING">&quot;src&quot;</span><span class="Token BraceDepth-2 RPAREN">)</span><span class="Token COMMA">,</span><span class="Token LF">
</span><span class="Token SPACE">        </span><span class="Identifier PrimaryExpression Token MacroDefine ID">XBOX_ARG_END</span><span class="Token BraceDepth-2 LPAREN">(</span><span class="Token BraceDepth-2 RPAREN">)</span><span class="InitDeclarator Token BraceDepth-1 Initializer RCURLY_BRACE">}</span><span class="Token Declaration SEMI">;</span><span class="Token Declaration LF">
</span><span class="Token Declaration SPACE">    </span><span class="Keyword Typedefine Token TypeSpecifier TYPEDEF_ID">XBOX_argparse</span><span class="Keyword Typedefine Token TypeSpecifier SPACE"> </span><span class="DirectDeclaractor Identifier Token ID">parser</span><span class="Token Declaration SEMI">;</span><span class="Token Declaration LF">
</span><span class="Token Declaration SPACE">    </span><span class="Identifier Token FunctionCall PrimaryExpression ID">XBOX_argparse_init</span><span class="PostfixExpression Token BraceDepth-1 UnaryExpression LPAREN">(</span><span class="PostfixExpression Token UnaryExpression LF">
</span><span class="PostfixExpression Token UnaryExpression SPACE">        </span><span class="UnaryOp Token UnaryExpression AMPERSAND">&amp;</span><span class="Identifier Token PrimaryExpression ID">parser</span><span class="PostfixExpression Token UnaryExpression COMMA">,</span><span class="PostfixExpression Token UnaryExpression SPACE"> </span><span class="Identifier Token PrimaryExpression ID">options</span><span class="PostfixExpression Token UnaryExpression COMMA">,</span><span class="PostfixExpression Token UnaryExpression SPACE"> </span><span class="Identifier PrimaryExpression Token MacroDefine ID">XBOX_ARGPARSE_ENABLE_ARG_STICK</span><span class="Identifier PrimaryExpression Token MacroDefine SPACE"> </span><span class="BinaryOp ConditionalExpression Token PIPE">|</span><span class="BinaryOp ConditionalExpression Token SPACE"> </span><span class="Identifier PrimaryExpression Token MacroDefine ID">XBOX_ARGPARSE_ENABLE_STICK</span><span class="Identifier PrimaryExpression Token MacroDefine SPACE"> </span><span class="BinaryOp ConditionalExpression Token PIPE">|</span><span class="BinaryOp ConditionalExpression Token SPACE"> </span><span class="Identifier PrimaryExpression Token MacroDefine ID">XBOX_ARGPARSE_ENABLE_EQUAL</span><span class="PostfixExpression Token BraceDepth-1 UnaryExpression RPAREN">)</span><span class="ExpressionStatement Token SEMI">;</span><span class="ExpressionStatement Token LF">
</span><span class="ExpressionStatement Token SPACE">    </span><span class="Identifier Token FunctionCall PrimaryExpression ID">XBOX_argparse_describe</span><span class="PostfixExpression Token BraceDepth-1 UnaryExpression LPAREN">(</span><span class="UnaryOp Token UnaryExpression AMPERSAND">&amp;</span><span class="Identifier Token PrimaryExpression ID">parser</span><span class="PostfixExpression Token UnaryExpression COMMA">,</span><span class="PostfixExpression Token UnaryExpression LF">
</span><span class="PostfixExpression Token UnaryExpression SPACE">                           </span><span class="String Token STRING">&quot;kcc&quot;</span><span class="PostfixExpression Token UnaryExpression COMMA">,</span><span class="PostfixExpression Token UnaryExpression LF">
</span><span class="PostfixExpression Token UnaryExpression SPACE">                           </span><span class="String Token STRING">&quot;Kamilu&#x27;s C Compiler&quot;</span><span class="PostfixExpression Token UnaryExpression COMMA">,</span><span class="PostfixExpression Token UnaryExpression LF">
</span><span class="PostfixExpression Token UnaryExpression SPACE">                           </span><span class="String Token STRING">&quot;document:   &lt;https://github.com/luzhixing12345/kcc&gt;</span><span class="String Control Token STRING">\n</span><span class="String Token STRING">bug report: &quot;</span><span class="Token LF">
</span><span class="Token SPACE">                           </span><span class="String Token STRING">&quot;&lt;https://github.com/luzhixing12345/kcc/issues&gt;&quot;</span><span class="PostfixExpression Token BraceDepth-1 UnaryExpression RPAREN">)</span><span class="ExpressionStatement Token SEMI">;</span><span class="ExpressionStatement Token LF">
</span><span class="ExpressionStatement Token SPACE">    </span><span class="Identifier Token FunctionCall PrimaryExpression ID">XBOX_argparse_parse</span><span class="PostfixExpression Token BraceDepth-1 UnaryExpression LPAREN">(</span><span class="UnaryOp Token UnaryExpression AMPERSAND">&amp;</span><span class="Identifier Token PrimaryExpression ID">parser</span><span class="PostfixExpression Token UnaryExpression COMMA">,</span><span class="PostfixExpression Token UnaryExpression SPACE"> </span><span class="Identifier Token PrimaryExpression ID">argc</span><span class="PostfixExpression Token UnaryExpression COMMA">,</span><span class="PostfixExpression Token UnaryExpression SPACE"> </span><span class="Identifier Token PrimaryExpression ID">argv</span><span class="PostfixExpression Token BraceDepth-1 UnaryExpression RPAREN">)</span><span class="ExpressionStatement Token SEMI">;</span><span class="ExpressionStatement Token LF">
</span><span class="ExpressionStatement Token SPACE">    </span><span class="Keyword Token SelectionStatement IF">if</span><span class="Keyword Token SelectionStatement SPACE"> </span><span class="BraceDepth-1 Token SelectionStatement LPAREN">(</span><span class="Identifier Token FunctionCall PrimaryExpression ID">XBOX_ismatch</span><span class="PostfixExpression Token BraceDepth-2 UnaryExpression LPAREN">(</span><span class="UnaryOp Token UnaryExpression AMPERSAND">&amp;</span><span class="Identifier Token PrimaryExpression ID">parser</span><span class="PostfixExpression Token UnaryExpression COMMA">,</span><span class="PostfixExpression Token UnaryExpression SPACE"> </span><span class="String Token STRING">&quot;help&quot;</span><span class="PostfixExpression Token BraceDepth-2 UnaryExpression RPAREN">)</span><span class="BraceDepth-1 Token SelectionStatement RPAREN">)</span><span class="Token SelectionStatement SPACE"> </span><span class="CompoundStatement BraceDepth-1 Token SelectionStatement LCURLY_BRACE">{</span><span class="CompoundStatement Token SelectionStatement LF">
</span><span class="CompoundStatement Token SelectionStatement SPACE">        </span><span class="Identifier Token FunctionCall PrimaryExpression ID">XBOX_argparse_info</span><span class="PostfixExpression Token BraceDepth-2 UnaryExpression LPAREN">(</span><span class="UnaryOp Token UnaryExpression AMPERSAND">&amp;</span><span class="Identifier Token PrimaryExpression ID">parser</span><span class="PostfixExpression Token BraceDepth-2 UnaryExpression RPAREN">)</span><span class="ExpressionStatement Token SEMI">;</span><span class="ExpressionStatement Token LF">
</span><span class="ExpressionStatement Token SPACE">        </span><span class="Identifier Token FunctionCall PrimaryExpression ID">XBOX_free_argparse</span><span class="PostfixExpression Token BraceDepth-2 UnaryExpression LPAREN">(</span><span class="UnaryOp Token UnaryExpression AMPERSAND">&amp;</span><span class="Identifier Token PrimaryExpression ID">parser</span><span class="PostfixExpression Token BraceDepth-2 UnaryExpression RPAREN">)</span><span class="ExpressionStatement Token SEMI">;</span><span class="ExpressionStatement Token LF">
</span><span class="ExpressionStatement Token SPACE">        </span><span class="Keyword JumpStatement Token RETURN">return</span><span class="Keyword JumpStatement Token SPACE"> </span><span class="Constant Token PrimaryExpression NUMBER">0</span><span class="JumpStatement Token SEMI">;</span><span class="JumpStatement Token LF">
</span><span class="JumpStatement Token SPACE">    </span><span class="CompoundStatement BraceDepth-1 Token SelectionStatement RCURLY_BRACE">}</span><span class="CompoundStatement Token SelectionStatement LF">
</span><span class="CompoundStatement Token SelectionStatement SPACE">    </span><span class="Keyword Token SelectionStatement IF">if</span><span class="Keyword Token SelectionStatement SPACE"> </span><span class="BraceDepth-1 Token SelectionStatement LPAREN">(</span><span class="Identifier Token FunctionCall PrimaryExpression ID">XBOX_ismatch</span><span class="PostfixExpression Token BraceDepth-2 UnaryExpression LPAREN">(</span><span class="UnaryOp Token UnaryExpression AMPERSAND">&amp;</span><span class="Identifier Token PrimaryExpression ID">parser</span><span class="PostfixExpression Token UnaryExpression COMMA">,</span><span class="PostfixExpression Token UnaryExpression SPACE"> </span><span class="String Token STRING">&quot;version&quot;</span><span class="PostfixExpression Token BraceDepth-2 UnaryExpression RPAREN">)</span><span class="BraceDepth-1 Token SelectionStatement RPAREN">)</span><span class="Token SelectionStatement SPACE"> </span><span class="CompoundStatement BraceDepth-1 Token SelectionStatement LCURLY_BRACE">{</span><span class="CompoundStatement Token SelectionStatement LF">
</span><span class="CompoundStatement Token SelectionStatement SPACE">        </span><span class="Identifier Token FunctionCall PrimaryExpression ID">printf</span><span class="PostfixExpression Token BraceDepth-2 UnaryExpression LPAREN">(</span><span class="String Token STRING">&quot;</span><span class="Format String Token STRING">%s</span><span class="String Control Token STRING">\n</span><span class="String Token STRING">&quot;</span><span class="PostfixExpression Token UnaryExpression COMMA">,</span><span class="PostfixExpression Token UnaryExpression SPACE"> </span><span class="Identifier PrimaryExpression Token MacroDefine ID">XBOX_VERSION</span><span class="PostfixExpression Token BraceDepth-2 UnaryExpression RPAREN">)</span><span class="ExpressionStatement Token SEMI">;</span><span class="ExpressionStatement Token LF">
</span><span class="ExpressionStatement Token SPACE">        </span><span class="Identifier Token FunctionCall PrimaryExpression ID">XBOX_free_argparse</span><span class="PostfixExpression Token BraceDepth-2 UnaryExpression LPAREN">(</span><span class="UnaryOp Token UnaryExpression AMPERSAND">&amp;</span><span class="Identifier Token PrimaryExpression ID">parser</span><span class="PostfixExpression Token BraceDepth-2 UnaryExpression RPAREN">)</span><span class="ExpressionStatement Token SEMI">;</span><span class="ExpressionStatement Token LF">
</span><span class="ExpressionStatement Token SPACE">        </span><span class="Keyword JumpStatement Token RETURN">return</span><span class="Keyword JumpStatement Token SPACE"> </span><span class="Constant Token PrimaryExpression NUMBER">0</span><span class="JumpStatement Token SEMI">;</span><span class="JumpStatement Token LF">
</span><span class="JumpStatement Token SPACE">    </span><span class="CompoundStatement BraceDepth-1 Token SelectionStatement RCURLY_BRACE">}</span><span class="CompoundStatement Token SelectionStatement LF">
</span><span class="CompoundStatement Token SelectionStatement SPACE">    </span><span class="Keyword Token SelectionStatement IF">if</span><span class="Keyword Token SelectionStatement SPACE"> </span><span class="BraceDepth-1 Token SelectionStatement LPAREN">(</span><span class="Identifier Token FunctionCall PrimaryExpression ID">XBOX_ismatch</span><span class="PostfixExpression Token BraceDepth-2 UnaryExpression LPAREN">(</span><span class="UnaryOp Token UnaryExpression AMPERSAND">&amp;</span><span class="Identifier Token PrimaryExpression ID">parser</span><span class="PostfixExpression Token UnaryExpression COMMA">,</span><span class="PostfixExpression Token UnaryExpression SPACE"> </span><span class="String Token STRING">&quot;compile&quot;</span><span class="PostfixExpression Token BraceDepth-2 UnaryExpression RPAREN">)</span><span class="BraceDepth-1 Token SelectionStatement RPAREN">)</span><span class="Token SelectionStatement SPACE"> </span><span class="CompoundStatement BraceDepth-1 Token SelectionStatement LCURLY_BRACE">{</span><span class="CompoundStatement Token SelectionStatement LF">
</span><span class="CompoundStatement Token SelectionStatement SPACE">        </span><span class="Identifier Token FunctionCall PrimaryExpression ID">printf</span><span class="PostfixExpression Token BraceDepth-2 UnaryExpression LPAREN">(</span><span class="String Token STRING">&quot;use -c</span><span class="String Control Token STRING">\n</span><span class="String Token STRING">&quot;</span><span class="PostfixExpression Token BraceDepth-2 UnaryExpression RPAREN">)</span><span class="ExpressionStatement Token SEMI">;</span><span class="ExpressionStatement Token LF">
</span><span class="ExpressionStatement Token SPACE">    </span><span class="CompoundStatement BraceDepth-1 Token SelectionStatement RCURLY_BRACE">}</span><span class="CompoundStatement Token SelectionStatement LF">
</span><span class="CompoundStatement Token SelectionStatement SPACE">    </span><span class="Keyword Token SelectionStatement IF">if</span><span class="Keyword Token SelectionStatement SPACE"> </span><span class="BraceDepth-1 Token SelectionStatement LPAREN">(</span><span class="Identifier Token PrimaryExpression ID">debug</span><span class="BraceDepth-1 Token SelectionStatement RPAREN">)</span><span class="Token SelectionStatement SPACE"> </span><span class="CompoundStatement BraceDepth-1 Token SelectionStatement LCURLY_BRACE">{</span><span class="CompoundStatement Token SelectionStatement LF">
</span><span class="CompoundStatement Token SelectionStatement SPACE">        </span><span class="Identifier Token FunctionCall PrimaryExpression ID">printf</span><span class="PostfixExpression Token BraceDepth-2 UnaryExpression LPAREN">(</span><span class="String Token STRING">&quot;use -g</span><span class="String Control Token STRING">\n</span><span class="String Token STRING">&quot;</span><span class="PostfixExpression Token BraceDepth-2 UnaryExpression RPAREN">)</span><span class="ExpressionStatement Token SEMI">;</span><span class="ExpressionStatement Token LF">
</span><span class="ExpressionStatement Token SPACE">    </span><span class="CompoundStatement BraceDepth-1 Token SelectionStatement RCURLY_BRACE">}</span><span class="CompoundStatement Token SelectionStatement LF">
</span><span class="CompoundStatement Token SelectionStatement SPACE">    </span><span class="Keyword BaseType Token TypeSpecifier INT">int</span><span class="Keyword BaseType Token TypeSpecifier SPACE"> </span><span class="DirectDeclaractor Identifier Token ID">n</span><span class="DirectDeclaractor Identifier Token SPACE"> </span><span class="InitDeclarator Token ASSIGN">=</span><span class="InitDeclarator Token SPACE"> </span><span class="Identifier Token FunctionCall PrimaryExpression ID">XBOX_ismatch</span><span class="PostfixExpression Token BraceDepth-1 UnaryExpression LPAREN">(</span><span class="UnaryOp Token UnaryExpression AMPERSAND">&amp;</span><span class="Identifier Token PrimaryExpression ID">parser</span><span class="PostfixExpression Token UnaryExpression COMMA">,</span><span class="PostfixExpression Token UnaryExpression SPACE"> </span><span class="String Token STRING">&quot;src&quot;</span><span class="PostfixExpression Token BraceDepth-1 UnaryExpression RPAREN">)</span><span class="Token Declaration SEMI">;</span><span class="Token Declaration LF">
</span><span class="Token Declaration SPACE">    </span><span class="Keyword Token IterationStatement FOR">for</span><span class="Keyword Token IterationStatement SPACE"> </span><span class="BraceDepth-1 Token IterationStatement LPAREN">(</span><span class="Keyword BaseType Token TypeSpecifier INT">int</span><span class="Keyword BaseType Token TypeSpecifier SPACE"> </span><span class="DirectDeclaractor Identifier Token ID">i</span><span class="DirectDeclaractor Identifier Token SPACE"> </span><span class="InitDeclarator Token ASSIGN">=</span><span class="InitDeclarator Token SPACE"> </span><span class="Constant Token PrimaryExpression NUMBER">0</span><span class="Token IterationStatement Declaration SEMI">;</span><span class="Token IterationStatement Declaration SPACE"> </span><span class="Identifier Token PrimaryExpression ID">i</span><span class="Identifier Token PrimaryExpression SPACE"> </span><span class="BinaryOp ConditionalExpression Token LT">&lt;</span><span class="BinaryOp ConditionalExpression Token SPACE"> </span><span class="Identifier Token PrimaryExpression ID">n</span><span class="Token IterationStatement SEMI">;</span><span class="Token IterationStatement SPACE"> </span><span class="Identifier Token PrimaryExpression ID">i</span><span class="PostfixExpression Token UnaryExpression INC">++</span><span class="BraceDepth-1 Token IterationStatement RPAREN">)</span><span class="Token IterationStatement SPACE"> </span><span class="CompoundStatement BraceDepth-1 Token IterationStatement LCURLY_BRACE">{</span><span class="CompoundStatement Token IterationStatement LF">
</span><span class="CompoundStatement Token IterationStatement SPACE">        </span><span class="Identifier Token FunctionCall PrimaryExpression ID">printf</span><span class="PostfixExpression Token BraceDepth-2 UnaryExpression LPAREN">(</span><span class="String Token STRING">&quot;file[</span><span class="Format String Token STRING">%d</span><span class="String Token STRING">] = [</span><span class="Format String Token STRING">%s</span><span class="String Token STRING">]</span><span class="String Control Token STRING">\n</span><span class="String Token STRING">&quot;</span><span class="PostfixExpression Token UnaryExpression COMMA">,</span><span class="PostfixExpression Token UnaryExpression SPACE"> </span><span class="Identifier Token PrimaryExpression ID">i</span><span class="PostfixExpression Token UnaryExpression COMMA">,</span><span class="PostfixExpression Token UnaryExpression SPACE"> </span><span class="Identifier Token PrimaryExpression ID">files</span><span class="BraceDepth-0 PostfixExpression Token UnaryExpression LSQUAR_PAREN">[</span><span class="Identifier Token PrimaryExpression ID">i</span><span class="BraceDepth-0 PostfixExpression Token UnaryExpression RSQUAR_PAREN">]</span><span class="PostfixExpression Token BraceDepth-2 UnaryExpression RPAREN">)</span><span class="ExpressionStatement Token SEMI">;</span><span class="ExpressionStatement Token LF">
</span><span class="ExpressionStatement Token SPACE">    </span><span class="CompoundStatement BraceDepth-1 Token IterationStatement RCURLY_BRACE">}</span><span class="CompoundStatement Token IterationStatement LF">
</span><span class="CompoundStatement Token IterationStatement SPACE">    </span><span class="Identifier Token PrimaryExpression ID">n</span><span class="Identifier Token PrimaryExpression SPACE"> </span><span class="AssignOp Token AssignmentExpression ASSIGN">=</span><span class="AssignOp Token AssignmentExpression SPACE"> </span><span class="Identifier Token FunctionCall PrimaryExpression ID">XBOX_ismatch</span><span class="PostfixExpression Token BraceDepth-1 UnaryExpression LPAREN">(</span><span class="UnaryOp Token UnaryExpression AMPERSAND">&amp;</span><span class="Identifier Token PrimaryExpression ID">parser</span><span class="PostfixExpression Token UnaryExpression COMMA">,</span><span class="PostfixExpression Token UnaryExpression SPACE"> </span><span class="String Token STRING">&quot;include&quot;</span><span class="PostfixExpression Token BraceDepth-1 UnaryExpression RPAREN">)</span><span class="ExpressionStatement Token SEMI">;</span><span class="ExpressionStatement Token LF">
</span><span class="ExpressionStatement Token SPACE">    </span><span class="Keyword Token IterationStatement FOR">for</span><span class="Keyword Token IterationStatement SPACE"> </span><span class="BraceDepth-1 Token IterationStatement LPAREN">(</span><span class="Keyword BaseType Token TypeSpecifier INT">int</span><span class="Keyword BaseType Token TypeSpecifier SPACE"> </span><span class="DirectDeclaractor Identifier Token ID">i</span><span class="DirectDeclaractor Identifier Token SPACE"> </span><span class="InitDeclarator Token ASSIGN">=</span><span class="InitDeclarator Token SPACE"> </span><span class="Constant Token PrimaryExpression NUMBER">0</span><span class="Token IterationStatement Declaration SEMI">;</span><span class="Token IterationStatement Declaration SPACE"> </span><span class="Identifier Token PrimaryExpression ID">i</span><span class="Identifier Token PrimaryExpression SPACE"> </span><span class="BinaryOp ConditionalExpression Token LT">&lt;</span><span class="BinaryOp ConditionalExpression Token SPACE"> </span><span class="Identifier Token PrimaryExpression ID">n</span><span class="Token IterationStatement SEMI">;</span><span class="Token IterationStatement SPACE"> </span><span class="Identifier Token PrimaryExpression ID">i</span><span class="PostfixExpression Token UnaryExpression INC">++</span><span class="BraceDepth-1 Token IterationStatement RPAREN">)</span><span class="Token IterationStatement SPACE"> </span><span class="CompoundStatement BraceDepth-1 Token IterationStatement LCURLY_BRACE">{</span><span class="CompoundStatement Token IterationStatement LF">
</span><span class="CompoundStatement Token IterationStatement SPACE">        </span><span class="Identifier Token FunctionCall PrimaryExpression ID">printf</span><span class="PostfixExpression Token BraceDepth-2 UnaryExpression LPAREN">(</span><span class="String Token STRING">&quot;include path[</span><span class="Format String Token STRING">%d</span><span class="String Token STRING">] = [</span><span class="Format String Token STRING">%s</span><span class="String Token STRING">]</span><span class="String Control Token STRING">\n</span><span class="String Token STRING">&quot;</span><span class="PostfixExpression Token UnaryExpression COMMA">,</span><span class="PostfixExpression Token UnaryExpression SPACE"> </span><span class="Identifier Token PrimaryExpression ID">i</span><span class="PostfixExpression Token UnaryExpression COMMA">,</span><span class="PostfixExpression Token UnaryExpression SPACE"> </span><span class="Identifier Token PrimaryExpression ID">include_path</span><span class="BraceDepth-0 PostfixExpression Token UnaryExpression LSQUAR_PAREN">[</span><span class="Identifier Token PrimaryExpression ID">i</span><span class="BraceDepth-0 PostfixExpression Token UnaryExpression RSQUAR_PAREN">]</span><span class="PostfixExpression Token BraceDepth-2 UnaryExpression RPAREN">)</span><span class="ExpressionStatement Token SEMI">;</span><span class="ExpressionStatement Token LF">
</span><span class="ExpressionStatement Token SPACE">    </span><span class="CompoundStatement BraceDepth-1 Token IterationStatement RCURLY_BRACE">}</span><span class="CompoundStatement Token IterationStatement LF">
</span><span class="CompoundStatement Token IterationStatement SPACE">    </span><span class="Identifier Token PrimaryExpression ID">n</span><span class="Identifier Token PrimaryExpression SPACE"> </span><span class="AssignOp Token AssignmentExpression ASSIGN">=</span><span class="AssignOp Token AssignmentExpression SPACE"> </span><span class="Identifier Token FunctionCall PrimaryExpression ID">XBOX_ismatch</span><span class="PostfixExpression Token BraceDepth-1 UnaryExpression LPAREN">(</span><span class="UnaryOp Token UnaryExpression AMPERSAND">&amp;</span><span class="Identifier Token PrimaryExpression ID">parser</span><span class="PostfixExpression Token UnaryExpression COMMA">,</span><span class="PostfixExpression Token UnaryExpression SPACE"> </span><span class="String Token STRING">&quot;library_path&quot;</span><span class="PostfixExpression Token BraceDepth-1 UnaryExpression RPAREN">)</span><span class="ExpressionStatement Token SEMI">;</span><span class="ExpressionStatement Token LF">
</span><span class="ExpressionStatement Token SPACE">    </span><span class="Keyword Token IterationStatement FOR">for</span><span class="Keyword Token IterationStatement SPACE"> </span><span class="BraceDepth-1 Token IterationStatement LPAREN">(</span><span class="Keyword BaseType Token TypeSpecifier INT">int</span><span class="Keyword BaseType Token TypeSpecifier SPACE"> </span><span class="DirectDeclaractor Identifier Token ID">i</span><span class="DirectDeclaractor Identifier Token SPACE"> </span><span class="InitDeclarator Token ASSIGN">=</span><span class="InitDeclarator Token SPACE"> </span><span class="Constant Token PrimaryExpression NUMBER">0</span><span class="Token IterationStatement Declaration SEMI">;</span><span class="Token IterationStatement Declaration SPACE"> </span><span class="Identifier Token PrimaryExpression ID">i</span><span class="Identifier Token PrimaryExpression SPACE"> </span><span class="BinaryOp ConditionalExpression Token LT">&lt;</span><span class="BinaryOp ConditionalExpression Token SPACE"> </span><span class="Identifier Token PrimaryExpression ID">n</span><span class="Token IterationStatement SEMI">;</span><span class="Token IterationStatement SPACE"> </span><span class="Identifier Token PrimaryExpression ID">i</span><span class="PostfixExpression Token UnaryExpression INC">++</span><span class="BraceDepth-1 Token IterationStatement RPAREN">)</span><span class="Token IterationStatement SPACE"> </span><span class="CompoundStatement BraceDepth-1 Token IterationStatement LCURLY_BRACE">{</span><span class="CompoundStatement Token IterationStatement LF">
</span><span class="CompoundStatement Token IterationStatement SPACE">        </span><span class="Identifier Token FunctionCall PrimaryExpression ID">printf</span><span class="PostfixExpression Token BraceDepth-2 UnaryExpression LPAREN">(</span><span class="String Token STRING">&quot;library path[</span><span class="Format String Token STRING">%d</span><span class="String Token STRING">] = [</span><span class="Format String Token STRING">%s</span><span class="String Token STRING">]</span><span class="String Control Token STRING">\n</span><span class="String Token STRING">&quot;</span><span class="PostfixExpression Token UnaryExpression COMMA">,</span><span class="PostfixExpression Token UnaryExpression SPACE"> </span><span class="Identifier Token PrimaryExpression ID">i</span><span class="PostfixExpression Token UnaryExpression COMMA">,</span><span class="PostfixExpression Token UnaryExpression SPACE"> </span><span class="Identifier Token PrimaryExpression ID">library_path</span><span class="BraceDepth-0 PostfixExpression Token UnaryExpression LSQUAR_PAREN">[</span><span class="Identifier Token PrimaryExpression ID">i</span><span class="BraceDepth-0 PostfixExpression Token UnaryExpression RSQUAR_PAREN">]</span><span class="PostfixExpression Token BraceDepth-2 UnaryExpression RPAREN">)</span><span class="ExpressionStatement Token SEMI">;</span><span class="ExpressionStatement Token LF">
</span><span class="ExpressionStatement Token SPACE">    </span><span class="CompoundStatement BraceDepth-1 Token IterationStatement RCURLY_BRACE">}</span><span class="CompoundStatement Token IterationStatement LF">
</span><span class="CompoundStatement Token IterationStatement SPACE">    </span><span class="Identifier Token PrimaryExpression ID">n</span><span class="Identifier Token PrimaryExpression SPACE"> </span><span class="AssignOp Token AssignmentExpression ASSIGN">=</span><span class="AssignOp Token AssignmentExpression SPACE"> </span><span class="Identifier Token FunctionCall PrimaryExpression ID">XBOX_ismatch</span><span class="PostfixExpression Token BraceDepth-1 UnaryExpression LPAREN">(</span><span class="UnaryOp Token UnaryExpression AMPERSAND">&amp;</span><span class="Identifier Token PrimaryExpression ID">parser</span><span class="PostfixExpression Token UnaryExpression COMMA">,</span><span class="PostfixExpression Token UnaryExpression SPACE"> </span><span class="String Token STRING">&quot;library_name&quot;</span><span class="PostfixExpression Token BraceDepth-1 UnaryExpression RPAREN">)</span><span class="ExpressionStatement Token SEMI">;</span><span class="ExpressionStatement Token LF">
</span><span class="ExpressionStatement Token SPACE">    </span><span class="Keyword Token IterationStatement FOR">for</span><span class="Keyword Token IterationStatement SPACE"> </span><span class="BraceDepth-1 Token IterationStatement LPAREN">(</span><span class="Keyword BaseType Token TypeSpecifier INT">int</span><span class="Keyword BaseType Token TypeSpecifier SPACE"> </span><span class="DirectDeclaractor Identifier Token ID">i</span><span class="DirectDeclaractor Identifier Token SPACE"> </span><span class="InitDeclarator Token ASSIGN">=</span><span class="InitDeclarator Token SPACE"> </span><span class="Constant Token PrimaryExpression NUMBER">0</span><span class="Token IterationStatement Declaration SEMI">;</span><span class="Token IterationStatement Declaration SPACE"> </span><span class="Identifier Token PrimaryExpression ID">i</span><span class="Identifier Token PrimaryExpression SPACE"> </span><span class="BinaryOp ConditionalExpression Token LT">&lt;</span><span class="BinaryOp ConditionalExpression Token SPACE"> </span><span class="Identifier Token PrimaryExpression ID">n</span><span class="Token IterationStatement SEMI">;</span><span class="Token IterationStatement SPACE"> </span><span class="Identifier Token PrimaryExpression ID">i</span><span class="PostfixExpression Token UnaryExpression INC">++</span><span class="BraceDepth-1 Token IterationStatement RPAREN">)</span><span class="Token IterationStatement SPACE"> </span><span class="CompoundStatement BraceDepth-1 Token IterationStatement LCURLY_BRACE">{</span><span class="CompoundStatement Token IterationStatement LF">
</span><span class="CompoundStatement Token IterationStatement SPACE">        </span><span class="Identifier Token FunctionCall PrimaryExpression ID">printf</span><span class="PostfixExpression Token BraceDepth-2 UnaryExpression LPAREN">(</span><span class="String Token STRING">&quot;library name[</span><span class="Format String Token STRING">%d</span><span class="String Token STRING">] = [</span><span class="Format String Token STRING">%s</span><span class="String Token STRING">]</span><span class="String Control Token STRING">\n</span><span class="String Token STRING">&quot;</span><span class="PostfixExpression Token UnaryExpression COMMA">,</span><span class="PostfixExpression Token UnaryExpression SPACE"> </span><span class="Identifier Token PrimaryExpression ID">i</span><span class="PostfixExpression Token UnaryExpression COMMA">,</span><span class="PostfixExpression Token UnaryExpression SPACE"> </span><span class="Identifier Token PrimaryExpression ID">library_name</span><span class="BraceDepth-0 PostfixExpression Token UnaryExpression LSQUAR_PAREN">[</span><span class="Identifier Token PrimaryExpression ID">i</span><span class="BraceDepth-0 PostfixExpression Token UnaryExpression RSQUAR_PAREN">]</span><span class="PostfixExpression Token BraceDepth-2 UnaryExpression RPAREN">)</span><span class="ExpressionStatement Token SEMI">;</span><span class="ExpressionStatement Token LF">
</span><span class="ExpressionStatement Token SPACE">    </span><span class="CompoundStatement BraceDepth-1 Token IterationStatement RCURLY_BRACE">}</span><span class="CompoundStatement Token IterationStatement LF">
</span><span class="CompoundStatement Token IterationStatement SPACE">    </span><span class="Keyword Token SelectionStatement IF">if</span><span class="Keyword Token SelectionStatement SPACE"> </span><span class="BraceDepth-1 Token SelectionStatement LPAREN">(</span><span class="Identifier Token PrimaryExpression ID">c_standard</span><span class="BraceDepth-1 Token SelectionStatement RPAREN">)</span><span class="Token SelectionStatement SPACE"> </span><span class="CompoundStatement BraceDepth-1 Token SelectionStatement LCURLY_BRACE">{</span><span class="CompoundStatement Token SelectionStatement LF">
</span><span class="CompoundStatement Token SelectionStatement SPACE">        </span><span class="Identifier Token FunctionCall PrimaryExpression ID">printf</span><span class="PostfixExpression Token BraceDepth-2 UnaryExpression LPAREN">(</span><span class="String Token STRING">&quot;C standard = [</span><span class="Format String Token STRING">%s</span><span class="String Token STRING">]</span><span class="String Control Token STRING">\n</span><span class="String Token STRING">&quot;</span><span class="PostfixExpression Token UnaryExpression COMMA">,</span><span class="PostfixExpression Token UnaryExpression SPACE"> </span><span class="Identifier Token PrimaryExpression ID">c_standard</span><span class="PostfixExpression Token BraceDepth-2 UnaryExpression RPAREN">)</span><span class="ExpressionStatement Token SEMI">;</span><span class="ExpressionStatement Token LF">
</span><span class="ExpressionStatement Token SPACE">    </span><span class="CompoundStatement BraceDepth-1 Token SelectionStatement RCURLY_BRACE">}</span><span class="CompoundStatement Token SelectionStatement LF">
</span><span class="CompoundStatement Token SelectionStatement SPACE">    </span><span class="Keyword Token SelectionStatement IF">if</span><span class="Keyword Token SelectionStatement SPACE"> </span><span class="BraceDepth-1 Token SelectionStatement LPAREN">(</span><span class="Identifier Token PrimaryExpression ID">optimize</span><span class="BraceDepth-1 Token SelectionStatement RPAREN">)</span><span class="Token SelectionStatement SPACE"> </span><span class="CompoundStatement BraceDepth-1 Token SelectionStatement LCURLY_BRACE">{</span><span class="CompoundStatement Token SelectionStatement LF">
</span><span class="CompoundStatement Token SelectionStatement SPACE">        </span><span class="Identifier Token FunctionCall PrimaryExpression ID">printf</span><span class="PostfixExpression Token BraceDepth-2 UnaryExpression LPAREN">(</span><span class="String Token STRING">&quot;optimize = [</span><span class="Format String Token STRING">%s</span><span class="String Token STRING">]</span><span class="String Control Token STRING">\n</span><span class="String Token STRING">&quot;</span><span class="PostfixExpression Token UnaryExpression COMMA">,</span><span class="PostfixExpression Token UnaryExpression SPACE"> </span><span class="Identifier Token PrimaryExpression ID">optimize</span><span class="PostfixExpression Token BraceDepth-2 UnaryExpression RPAREN">)</span><span class="ExpressionStatement Token SEMI">;</span><span class="ExpressionStatement Token LF">
</span><span class="ExpressionStatement Token SPACE">    </span><span class="CompoundStatement BraceDepth-1 Token SelectionStatement RCURLY_BRACE">}</span><span class="CompoundStatement Token SelectionStatement LF">
</span><span class="CompoundStatement Token SelectionStatement SPACE">    </span><span class="Keyword Token SelectionStatement IF">if</span><span class="Keyword Token SelectionStatement SPACE"> </span><span class="BraceDepth-1 Token SelectionStatement LPAREN">(</span><span class="Identifier Token PrimaryExpression ID">output</span><span class="BraceDepth-1 Token SelectionStatement RPAREN">)</span><span class="Token SelectionStatement SPACE"> </span><span class="CompoundStatement BraceDepth-1 Token SelectionStatement LCURLY_BRACE">{</span><span class="CompoundStatement Token SelectionStatement LF">
</span><span class="CompoundStatement Token SelectionStatement SPACE">        </span><span class="Identifier Token FunctionCall PrimaryExpression ID">printf</span><span class="PostfixExpression Token BraceDepth-2 UnaryExpression LPAREN">(</span><span class="String Token STRING">&quot;output file = [</span><span class="Format String Token STRING">%s</span><span class="String Token STRING">]</span><span class="String Control Token STRING">\n</span><span class="String Token STRING">&quot;</span><span class="PostfixExpression Token UnaryExpression COMMA">,</span><span class="PostfixExpression Token UnaryExpression SPACE"> </span><span class="Identifier Token PrimaryExpression ID">output</span><span class="PostfixExpression Token BraceDepth-2 UnaryExpression RPAREN">)</span><span class="ExpressionStatement Token SEMI">;</span><span class="ExpressionStatement Token LF">
</span><span class="ExpressionStatement Token SPACE">    </span><span class="CompoundStatement BraceDepth-1 Token SelectionStatement RCURLY_BRACE">}</span><span class="CompoundStatement Token SelectionStatement LF">
</span><span class="CompoundStatement Token SelectionStatement SPACE">    </span><span class="Identifier Token FunctionCall PrimaryExpression ID">XBOX_free_argparse</span><span class="PostfixExpression Token BraceDepth-1 UnaryExpression LPAREN">(</span><span class="UnaryOp Token UnaryExpression AMPERSAND">&amp;</span><span class="Identifier Token PrimaryExpression ID">parser</span><span class="PostfixExpression Token BraceDepth-1 UnaryExpression RPAREN">)</span><span class="ExpressionStatement Token SEMI">;</span><span class="ExpressionStatement Token LF">
</span><span class="ExpressionStatement Token SPACE">    </span><span class="Keyword JumpStatement Token RETURN">return</span><span class="Keyword JumpStatement Token SPACE"> </span><span class="Constant Token PrimaryExpression NUMBER">0</span><span class="JumpStatement Token SEMI">;</span><span class="JumpStatement Token LF">
</span><span class="CompoundStatement Function Token BraceDepth-0 RCURLY_BRACE">}</span></code></pre><p>kcc 提供了与 gcc 类似的参数传递方式</p><pre class="language-shell"><code><span class="BraceDepth-0 Token LPAREN">(</span><span class="Program Token ID">base</span><span class="BraceDepth-0 Token RPAREN">)</span><span class="Token SPACE"> </span><span class="Token HOST_NAME">kamilu@LZX</span><span class="Token COLON">:</span><span class="Token DIR_PATH">~/libc</span><span class="Token TAG">$</span><span class="Token SPACE"> </span><span class="Program Token PATH">./examples/kcc</span><span class="Token SPACE"> </span><span class="Token ID">a.c</span><span class="Token SPACE"> </span><span class="Token OPTION">-o</span><span class="Token SPACE"> </span><span class="Token ID">a</span><span class="Token LF">
</span><span class="Program Token ID">file</span><span class="BraceDepth-0 Token LSQUAR_PAREN">[</span><span class="Token NUMBER">0</span><span class="BraceDepth-0 Token RSQUAR_PAREN">]</span><span class="Token SPACE"> </span><span class="Token ASSIGN">=</span><span class="Token SPACE"> </span><span class="BraceDepth-0 Token LSQUAR_PAREN">[</span><span class="Token ID">a.c</span><span class="BraceDepth-0 Token RSQUAR_PAREN">]</span><span class="Token LF">
</span><span class="Program Token ID">output</span><span class="Token SPACE"> </span><span class="Variant Token ID">file</span><span class="Token SPACE"> </span><span class="Token ASSIGN">=</span><span class="Token SPACE"> </span><span class="BraceDepth-0 Token LSQUAR_PAREN">[</span><span class="Token ID">a</span><span class="BraceDepth-0 Token RSQUAR_PAREN">]</span><span class="Token LF">
</span><span class="BraceDepth-0 Token LPAREN">(</span><span class="Program Token ID">base</span><span class="BraceDepth-0 Token RPAREN">)</span><span class="Token SPACE"> </span><span class="Token HOST_NAME">kamilu@LZX</span><span class="Token COLON">:</span><span class="Token DIR_PATH">~/libc</span><span class="Token TAG">$</span><span class="Token SPACE"> </span><span class="Program Token PATH">./examples/kcc</span><span class="Token SPACE"> </span><span class="Token ID">a.c</span><span class="Token SPACE"> </span><span class="Token OPTION">-I</span><span class="Token SPACE"> </span><span class="Token ID">include1</span><span class="Token SPACE"> </span><span class="Token OPTION">-Iinclude2</span><span class="Token SPACE"> </span><span class="Token OPTION">-I</span><span class="Token ASSIGN">=</span><span class="Token ID">include3</span><span class="Token SPACE"> </span><span class="Token OPTION">-o</span><span class="Token SPACE"> </span><span class="Token ID">a</span><span class="Token LF">
</span><span class="Program Token ID">file</span><span class="BraceDepth-0 Token LSQUAR_PAREN">[</span><span class="Token NUMBER">0</span><span class="BraceDepth-0 Token RSQUAR_PAREN">]</span><span class="Token SPACE"> </span><span class="Token ASSIGN">=</span><span class="Token SPACE"> </span><span class="BraceDepth-0 Token LSQUAR_PAREN">[</span><span class="Token ID">a.c</span><span class="BraceDepth-0 Token RSQUAR_PAREN">]</span><span class="Token LF">
</span><span class="Program Token ID">include</span><span class="Token SPACE"> </span><span class="Token ID">path</span><span class="BraceDepth-0 Token LSQUAR_PAREN">[</span><span class="Token NUMBER">0</span><span class="BraceDepth-0 Token RSQUAR_PAREN">]</span><span class="Token SPACE"> </span><span class="Token ASSIGN">=</span><span class="Token SPACE"> </span><span class="BraceDepth-0 Token LSQUAR_PAREN">[</span><span class="Token ID">include1</span><span class="BraceDepth-0 Token RSQUAR_PAREN">]</span><span class="Token LF">
</span><span class="Program Token ID">include</span><span class="Token SPACE"> </span><span class="Token ID">path</span><span class="BraceDepth-0 Token LSQUAR_PAREN">[</span><span class="Token NUMBER">1</span><span class="BraceDepth-0 Token RSQUAR_PAREN">]</span><span class="Token SPACE"> </span><span class="Token ASSIGN">=</span><span class="Token SPACE"> </span><span class="BraceDepth-0 Token LSQUAR_PAREN">[</span><span class="Token ID">include2</span><span class="BraceDepth-0 Token RSQUAR_PAREN">]</span><span class="Token LF">
</span><span class="Program Token ID">include</span><span class="Token SPACE"> </span><span class="Token ID">path</span><span class="BraceDepth-0 Token LSQUAR_PAREN">[</span><span class="Token NUMBER">2</span><span class="BraceDepth-0 Token RSQUAR_PAREN">]</span><span class="Token SPACE"> </span><span class="Token ASSIGN">=</span><span class="Token SPACE"> </span><span class="BraceDepth-0 Token LSQUAR_PAREN">[</span><span class="Token ID">include3</span><span class="BraceDepth-0 Token RSQUAR_PAREN">]</span><span class="Token LF">
</span><span class="Program Token ID">output</span><span class="Token SPACE"> </span><span class="Variant Token ID">file</span><span class="Token SPACE"> </span><span class="Token ASSIGN">=</span><span class="Token SPACE"> </span><span class="BraceDepth-0 Token LSQUAR_PAREN">[</span><span class="Token ID">a</span><span class="BraceDepth-0 Token RSQUAR_PAREN">]</span><span class="Token LF">
</span><span class="BraceDepth-0 Token LPAREN">(</span><span class="Program Token ID">base</span><span class="BraceDepth-0 Token RPAREN">)</span><span class="Token SPACE"> </span><span class="Token HOST_NAME">kamilu@LZX</span><span class="Token COLON">:</span><span class="Token DIR_PATH">~/libc</span><span class="Token TAG">$</span><span class="Token SPACE"> </span><span class="Program Token PATH">./examples/kcc</span><span class="Token SPACE"> </span><span class="Token ID">a.c</span><span class="Token SPACE"> </span><span class="Token OPTION">-I</span><span class="Token SPACE"> </span><span class="Token ID">include1</span><span class="Token SPACE"> </span><span class="Token OPTION">-Iinclude2</span><span class="Token SPACE"> </span><span class="Token OPTION">-I</span><span class="Token ASSIGN">=</span><span class="Token ID">include3</span><span class="Token SPACE"> </span><span class="Token OPTION">-labc</span><span class="Token SPACE"> </span><span class="Token OPTION">-l</span><span class="Token ASSIGN">=</span><span class="Token ID">ccc</span><span class="Token SPACE"> </span><span class="Token OPTION">-o</span><span class="Token SPACE"> </span><span class="Token ID">a</span><span class="Token LF">
</span><span class="Program Token ID">file</span><span class="BraceDepth-0 Token LSQUAR_PAREN">[</span><span class="Token NUMBER">0</span><span class="BraceDepth-0 Token RSQUAR_PAREN">]</span><span class="Token SPACE"> </span><span class="Token ASSIGN">=</span><span class="Token SPACE"> </span><span class="BraceDepth-0 Token LSQUAR_PAREN">[</span><span class="Token ID">a.c</span><span class="BraceDepth-0 Token RSQUAR_PAREN">]</span><span class="Token LF">
</span><span class="Program Token ID">include</span><span class="Token SPACE"> </span><span class="Token ID">path</span><span class="BraceDepth-0 Token LSQUAR_PAREN">[</span><span class="Token NUMBER">0</span><span class="BraceDepth-0 Token RSQUAR_PAREN">]</span><span class="Token SPACE"> </span><span class="Token ASSIGN">=</span><span class="Token SPACE"> </span><span class="BraceDepth-0 Token LSQUAR_PAREN">[</span><span class="Token ID">include1</span><span class="BraceDepth-0 Token RSQUAR_PAREN">]</span><span class="Token LF">
</span><span class="Program Token ID">include</span><span class="Token SPACE"> </span><span class="Token ID">path</span><span class="BraceDepth-0 Token LSQUAR_PAREN">[</span><span class="Token NUMBER">1</span><span class="BraceDepth-0 Token RSQUAR_PAREN">]</span><span class="Token SPACE"> </span><span class="Token ASSIGN">=</span><span class="Token SPACE"> </span><span class="BraceDepth-0 Token LSQUAR_PAREN">[</span><span class="Token ID">include2</span><span class="BraceDepth-0 Token RSQUAR_PAREN">]</span><span class="Token LF">
</span><span class="Program Token ID">include</span><span class="Token SPACE"> </span><span class="Token ID">path</span><span class="BraceDepth-0 Token LSQUAR_PAREN">[</span><span class="Token NUMBER">2</span><span class="BraceDepth-0 Token RSQUAR_PAREN">]</span><span class="Token SPACE"> </span><span class="Token ASSIGN">=</span><span class="Token SPACE"> </span><span class="BraceDepth-0 Token LSQUAR_PAREN">[</span><span class="Token ID">include3</span><span class="BraceDepth-0 Token RSQUAR_PAREN">]</span><span class="Token LF">
</span><span class="Program Token ID">library</span><span class="Token SPACE"> </span><span class="Token ID">name</span><span class="BraceDepth-0 Token LSQUAR_PAREN">[</span><span class="Token NUMBER">0</span><span class="BraceDepth-0 Token RSQUAR_PAREN">]</span><span class="Token SPACE"> </span><span class="Token ASSIGN">=</span><span class="Token SPACE"> </span><span class="BraceDepth-0 Token LSQUAR_PAREN">[</span><span class="Token ID">abc</span><span class="BraceDepth-0 Token RSQUAR_PAREN">]</span><span class="Token LF">
</span><span class="Program Token ID">library</span><span class="Token SPACE"> </span><span class="Token ID">name</span><span class="BraceDepth-0 Token LSQUAR_PAREN">[</span><span class="Token NUMBER">1</span><span class="BraceDepth-0 Token RSQUAR_PAREN">]</span><span class="Token SPACE"> </span><span class="Token ASSIGN">=</span><span class="Token SPACE"> </span><span class="BraceDepth-0 Token LSQUAR_PAREN">[</span><span class="Token ID">ccc</span><span class="BraceDepth-0 Token RSQUAR_PAREN">]</span><span class="Token LF">
</span><span class="Program Token ID">output</span><span class="Token SPACE"> </span><span class="Variant Token ID">file</span><span class="Token SPACE"> </span><span class="Token ASSIGN">=</span><span class="Token SPACE"> </span><span class="BraceDepth-0 Token LSQUAR_PAREN">[</span><span class="Token ID">a</span><span class="BraceDepth-0 Token RSQUAR_PAREN">]</span></code></pre><blockquote><p>这对于一些 GNU 工具的实现来说很有效</p></blockquote><h3 id="h3-12">传入的参数与int不匹配</h3><pre class="language-shell"><code><span class="Token VARIANT">$</span><span class="Token SPACE"> </span><span class="Program Token PATH">./examples/main</span><span class="Token SPACE"> </span><span class="Token NUMBER">123</span><span class="Token SPACE"> </span><span class="Token ID">abc</span><span class="Token LF">
</span><span class="BraceDepth-0 Token LSQUAR_PAREN">[</span><span class="Program Token ID">Args</span><span class="Token SPACE"> </span><span class="Token ID">Parse</span><span class="Token SPACE"> </span><span class="Token ID">Error</span><span class="BraceDepth-0 Token RSQUAR_PAREN">]</span><span class="Token COLON">:</span><span class="Token SPACE"> </span><span class="Token ID">argument</span><span class="Token SPACE"> </span><span class="Token ID">assign</span><span class="Token SPACE"> </span><span class="Token ID">to</span><span class="Token SPACE"> </span><span class="Token ID">be</span><span class="Token SPACE"> </span><span class="Token ID">int</span><span class="Token SPACE"> </span><span class="Token ID">but</span><span class="Token SPACE"> </span><span class="Token ID">get</span><span class="Token SPACE"> </span><span class="BraceDepth-0 Token LSQUAR_PAREN">[</span><span class="Token ID">abc</span><span class="BraceDepth-0 Token RSQUAR_PAREN">]</span><span class="Token LF">
</span><span class="Token LF">
</span><span class="Token VARIANT">$</span><span class="Token SPACE"> </span><span class="Program Token PATH">./examples/main</span><span class="Token SPACE"> </span><span class="Token NUMBER">123</span><span class="Token SPACE"> </span><span class="Token NUMBER">123</span><span class="Token ID">a1</span><span class="Token LF">
</span><span class="BraceDepth-0 Token LSQUAR_PAREN">[</span><span class="Program Token ID">Args</span><span class="Token SPACE"> </span><span class="Token ID">Parse</span><span class="Token SPACE"> </span><span class="Token ID">Error</span><span class="BraceDepth-0 Token RSQUAR_PAREN">]</span><span class="Token COLON">:</span><span class="Token SPACE"> </span><span class="Token ID">argument</span><span class="Token SPACE"> </span><span class="Token ID">assign</span><span class="Token SPACE"> </span><span class="Token ID">to</span><span class="Token SPACE"> </span><span class="Token ID">be</span><span class="Token SPACE"> </span><span class="Token ID">int</span><span class="Token SPACE"> </span><span class="Token ID">but</span><span class="Token SPACE"> </span><span class="Token ID">get</span><span class="Token SPACE"> </span><span class="BraceDepth-0 Token LSQUAR_PAREN">[</span><span class="Token NUMBER">123</span><span class="Token ID">a1</span><span class="BraceDepth-0 Token RSQUAR_PAREN">]</span></code></pre><h3 id="h3-13">缺少参数</h3><pre class="language-shell"><code><span class="Token VARIANT">$</span><span class="Token SPACE"> </span><span class="Program Token PATH">./examples/main</span><span class="Token SPACE"> </span><span class="Token NUMBER">123</span><span class="Token SPACE"> </span><span class="Token OPTION">-s</span><span class="Token LF">
</span><span class="BraceDepth-0 Token LSQUAR_PAREN">[</span><span class="Program Token ID">Args</span><span class="Token SPACE"> </span><span class="Token ID">Parse</span><span class="Token SPACE"> </span><span class="Token ID">Error</span><span class="BraceDepth-0 Token RSQUAR_PAREN">]</span><span class="Token COLON">:</span><span class="Token SPACE"> </span><span class="Token ID">option</span><span class="Token SPACE"> </span><span class="BraceDepth-0 Token LSQUAR_PAREN">[</span><span class="Token OPTION">--string</span><span class="BraceDepth-0 Token RSQUAR_PAREN">]</span><span class="Token SPACE"> </span><span class="Token ID">needs</span><span class="Token SPACE"> </span><span class="Token ID">one</span><span class="Token SPACE"> </span><span class="Token ID">argument</span></code></pre><h2 id="h2-14">参考</h2><ul><li><a href="https://github.com/cofyc/argparse" target="_blank">argparse</a></li></ul><ul><li><a href="https://github.com/SuperH-0630/fflags" target="_blank">fflags</a></li></ul></div>
    <div class="dir-tree"><ul><li><a href="../../md-docs/README" >README</a></li></ul><ul><li><a href="../../linux/目录" >linux</a><ul><li><a href="../../linux/目录" >目录</a></li></ul><ul><li><a href="../../linux/终端" >终端</a></li></ul></li></ul><ul><li><a href="../../工具库/命令行参数解析" >工具库</a><ul><li><a href="../../工具库/命令行参数解析" >命令行参数解析</a></li></ul></li></ul></div>
    <div class="zood"><a class="" href="https://github.com/luzhixing12345/zood" target="_blank">zood</a></div>
    <script type="text/javascript" src="../../../js/next_front.js"></script><script>addLink("../../linux/终端",".","ab")</script><script type="text/javascript" src="../../../js/change_mode.js"></script><script>addChangeModeButton("../../../img/sun.png","../../../img/moon.png")</script><script type="text/javascript" src="../../../js/copy_code.js"></script><script>addCodeCopy("../../../img/before_copy.png","../../../img/after_copy.png")</script><script type="text/javascript" src="../../../js/navigator.js"></script><script type="text/javascript" src="../../../js/picture_preview.js"></script><script type="text/javascript" src="../../../js/global_js_configuration.js"></script>
</body>

</html>