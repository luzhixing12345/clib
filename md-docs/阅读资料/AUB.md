
# AUB

AUB(Asynchronous Unwind Tables)是一种数据结构,用于在程序出现异常时恢复调用栈的状态.它是用于支持 C++ 异常处理和其他语言运行时的重要组件之一.

AUB 是一种与程序代码分离的数据结构,它包含了每个栈帧的信息,例如函数调用指令的地址、函数参数、寄存器值和栈指针等.当程序出现异常时,操作系统或调试器可以使用 AUB 来恢复调用栈的状态,以便在调用栈上查找异常处理程序或进行调试.

AUB 通常由编译器自动生成,并存储在目标文件的 .eh_frame 段中.在 Linux/x86-64 等系统中,.eh_frame 段是必需的,因为它包含了用于处理异常的信息,例如 C++ 异常处理、堆栈展开和调试信息等.在编写系统级代码或编译器时,了解 AUB 的结构和用途非常重要.

AUB 的生成和使用对程序的性能和调试性能都有一定的影响.在编译时,您可以使用 -fno-asynchronous-unwind-tables 选项来禁用 AUB 的生成,以减小目标文件的大小和提高程序的性能.但是,这可能会影响到程序的调试性能,因为调试器可能需要在程序出现异常时手动恢复调用栈的状态.